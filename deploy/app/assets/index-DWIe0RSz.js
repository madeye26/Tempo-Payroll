import{f as De,l as me,r as d,w as $,j as e,B as b,L as n,I as C,C as U,D as oe,g as le,h as ne,i as fe,S as O,n as I,p as R,q as V,v as l,k as be,e as k,T as ke,x as Se,y as Y,z as Z,A as ee,F as ae,G as te,H as ce,J as de,K as se,P as Ce}from"./index-DCzl8a2M.js";import{D as pe}from"./data-table-Dyk-SJUO.js";import{A as ie,a as re,b as ue,c as he,d as xe,e as Ne,f as je,g as ge}from"./alert-dialog-mt10r_ul.js";import{S as ye}from"./square-pen-DyTrw8aF.js";import{T as ve}from"./trash-2-BU5t-Hxw.js";/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function we(){const{employees:f,loading:_}=me(),[w,r]=d.useState([]),[H,u]=d.useState(!0),[x,K]=d.useState($(new Date,"yyyy-MM-dd")),[M,i]=d.useState(!1),[N,j]=d.useState(null),[g,A]=d.useState(!1),[h,p]=d.useState(null),[m,y]=d.useState({employee_id:"",date:$(new Date,"yyyy-MM-dd"),check_in:"",check_out:"",status:"present",notes:""}),v=async()=>{u(!0);try{if(k){const{data:a,error:t}=await k.from("attendance").select(`
            id,
            employee_id,
            date,
            check_in,
            check_out,
            status,
            notes,
            employees(name)
          `).eq("date",x);if(t){console.error("Error fetching attendance records:",t);return}const o=a.map(s=>{var S;return{id:s.id,employee_id:s.employee_id,employee_name:((S=s.employees)==null?void 0:S.name)||"Unknown",date:s.date,check_in:s.check_in,check_out:s.check_out,status:s.status,notes:s.notes}});r(o)}else console.log("Using mock attendance data"),r([])}catch(a){console.error("Error in fetchAttendanceRecords:",a)}finally{u(!1)}};d.useEffect(()=>{v()},[x]);const P=a=>{K(a.target.value)},D=a=>{const{name:t,value:o}=a.target;y(s=>({...s,[t]:o}))},F=a=>{y(t=>({...t,status:a}))},T=a=>{y(t=>({...t,employee_id:a}))},J=async()=>{try{if(!k){console.log("Mock save attendance record:",m),i(!1);return}const a={employee_id:m.employee_id,date:m.date,check_in:m.check_in||null,check_out:m.check_out||null,status:m.status,notes:m.notes||null};if(N){const{error:t}=await k.from("attendance").update(a).eq("id",N.id);if(t){console.error("Error updating attendance record:",t),alert(`Error updating record: ${t.message}`);return}}else{const{error:t}=await k.from("attendance").insert([a]);if(t){console.error("Error creating attendance record:",t),alert(`Error creating record: ${t.message}`);return}}v(),i(!1)}catch(a){console.error("Error in handleSaveRecord:",a),alert(`An unexpected error occurred: ${a instanceof Error?a.message:String(a)}`)}},L=async()=>{if(h)try{if(k){const{error:a}=await k.from("attendance").delete().eq("id",h);if(a){console.error("Error deleting attendance record:",a),alert(`Error deleting record: ${a.message}`);return}}else console.log("Mock delete attendance record:",h);v(),A(!1),p(null)}catch(a){console.error("Error in handleDeleteRecord:",a),alert(`An unexpected error occurred: ${a instanceof Error?a.message:String(a)}`)}},q=()=>{y({employee_id:"",date:x,check_in:"",check_out:"",status:"present",notes:""}),j(null),i(!0)},z=a=>{y({employee_id:a.employee_id,date:a.date,check_in:a.check_in||"",check_out:a.check_out||"",status:a.status,notes:a.notes||""}),j(a),i(!0)},c=[{accessorKey:"employee_name",header:"اسم الموظف"},{accessorKey:"date",header:"التاريخ"},{accessorKey:"check_in",header:"وقت الحضور",cell:({row:a})=>a.getValue("check_in")||"--"},{accessorKey:"check_out",header:"وقت الانصراف",cell:({row:a})=>a.getValue("check_out")||"--"},{id:"delay_hours",header:"ساعات التأخير",cell:({row:a})=>{const t=a.getValue("check_in");if(!t)return"--";const o=new Date;o.setHours(8,0,0,0);const[s,S]=t.split(":").map(Number),E=new Date;return E.setHours(s,S,0,0),E<=o?"0":(Math.floor((E.getTime()-o.getTime())/(1e3*60))/60).toFixed(2)}},{id:"overtime_hours",header:"ساعات إضافية",cell:({row:a})=>{const t=a.getValue("check_in"),o=a.getValue("check_out");if(!t||!o)return"--";const s=11,[S,E]=t.split(":").map(Number),[B,G]=o.split(":").map(Number),W=new Date;W.setHours(S,E,0,0);const Q=new Date;Q.setHours(B,G,0,0);const X=Math.floor((Q.getTime()-W.getTime())/(1e3*60))/60;return X<=s?"0":(X-s).toFixed(2)}},{accessorKey:"status",header:"الحالة",cell:({row:a})=>{const t=a.getValue("status");return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t==="present"?"bg-green-100 text-green-800":t==="absent"?"bg-red-100 text-red-800":t==="leave"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"} tempo-b743b567-6e3b-55fc-bb90-2425704fa19f`,tempoelementid:"tempo-b743b567-6e3b-55fc-bb90-2425704fa19f",children:t==="present"?"حاضر":t==="absent"?"غائب":t==="leave"?"إجازة":"متأخر"},"305536664587227886407781285944999014044-1")}},{accessorKey:"notes",header:"ملاحظات",cell:({row:a})=>a.getValue("notes")||"--"},{id:"actions",header:"الإجراءات",cell:({row:a})=>{const t=a.original;return e.jsxs("div",{className:"flex items-center justify-end gap-2 tempo-86ad3e16-7da8-5414-a363-ac54533f5778",tempoelementid:"tempo-86ad3e16-7da8-5414-a363-ac54533f5778",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>z(t),className:"tempo-119951dd-17ed-5c89-bd29-a1e431d63fb6 ",tempoelementid:"tempo-119951dd-17ed-5c89-bd29-a1e431d63fb6",children:[e.jsx(ye,{className:"ml-2 h-4 w-4 tempo-dc987750-04c6-5a02-a679-0d5db0a3042b",tempoelementid:"tempo-dc987750-04c6-5a02-a679-0d5db0a3042b"}),"تعديل"]}),e.jsxs(b,{variant:"outline",size:"sm",className:"text-destructive hover:bg-destructive/10 tempo-cd85a2cb-6032-5572-a51a-9c676476d41c",onClick:()=>{p(t.id),A(!0)},tempoelementid:"tempo-cd85a2cb-6032-5572-a51a-9c676476d41c",children:[e.jsx(ve,{className:"ml-2 h-4 w-4 tempo-8fccef31-e3f0-50a1-9470-b88c18388e5d",tempoelementid:"tempo-8fccef31-e3f0-50a1-9470-b88c18388e5d"}),"حذف"]})]},"305536664587227886407781285944999014044-2")}}];return _||H?e.jsx("div",{className:"flex justify-center p-8 tempo-daa7f0fd-953c-52c1-9617-87bc389b6f00",tempoelementid:"tempo-daa7f0fd-953c-52c1-9617-87bc389b6f00",children:"جاري التحميل..."},"305536664587227886407781285944999014044-7"):e.jsxs("div",{className:"space-y-6 tempo-c0f2bd7f-8764-5ac0-8d36-c99a7bc587c0",tempoelementid:"tempo-c0f2bd7f-8764-5ac0-8d36-c99a7bc587c0",children:[e.jsxs("div",{className:"flex justify-between items-center tempo-a42ed0f9-b0ac-538f-b9ed-0221ed51b8ac",tempoelementid:"tempo-a42ed0f9-b0ac-538f-b9ed-0221ed51b8ac",children:[e.jsxs(b,{onClick:q,className:"tempo-a7e87c88-f749-56a7-9a08-675b571c7045 ",tempoelementid:"tempo-a7e87c88-f749-56a7-9a08-675b571c7045",children:[e.jsx(_e,{className:"ml-2 h-4 w-4 tempo-d6f26218-97af-5706-98ca-88e3c75b0d58",tempoelementid:"tempo-d6f26218-97af-5706-98ca-88e3c75b0d58"}),"تسجيل حضور جديد"]}),e.jsxs("div",{className:"flex items-center gap-4 tempo-c558efc3-274d-5bf7-9ff1-425bf30f758a",tempoelementid:"tempo-c558efc3-274d-5bf7-9ff1-425bf30f758a",children:[e.jsx(n,{className:"tempo-29b6e865-d1e7-5fce-a0d7-815d009ad6da ",tempoelementid:"tempo-29b6e865-d1e7-5fce-a0d7-815d009ad6da",children:"التاريخ:"}),e.jsx(C,{type:"date",value:x,onChange:P,className:"w-auto tempo-ed5b4758-6f41-54cb-93f8-a2884de27550",tempoelementid:"tempo-ed5b4758-6f41-54cb-93f8-a2884de27550"})]},"305536664587227886407781285944999014044-12")]},"305536664587227886407781285944999014044-9"),e.jsxs(U,{className:"p-6 tempo-7d732583-171f-5228-9c3f-8ccc394ef938",tempoelementid:"tempo-7d732583-171f-5228-9c3f-8ccc394ef938",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 tempo-11290bc1-aa6e-50b8-9cec-76188440bd0f",tempoelementid:"tempo-11290bc1-aa6e-50b8-9cec-76188440bd0f",children:"سجل الحضور والانصراف"},"305536664587227886407781285944999014044-16"),w.length>0?e.jsx(pe,{columns:c,data:w,searchKey:"employee_name",className:"tempo-5929f1bc-1490-5bf6-9d73-62d901e172c6 ",tempoelementid:"tempo-5929f1bc-1490-5bf6-9d73-62d901e172c6"}):e.jsx("div",{className:"text-center py-8 text-muted-foreground tempo-b0df027e-b9ca-59ad-90dd-55b2833247c5",tempoelementid:"tempo-b0df027e-b9ca-59ad-90dd-55b2833247c5",children:"لا توجد سجلات حضور لهذا اليوم"},"305536664587227886407781285944999014044-18")]}),e.jsx(oe,{open:M,onOpenChange:i,className:"tempo-98e4f9c3-584a-53df-a087-ffd93f9c4959 ",tempoelementid:"tempo-98e4f9c3-584a-53df-a087-ffd93f9c4959",children:e.jsxs(le,{dir:"rtl",className:"tempo-f8eb86ad-3295-5bb1-9f38-0a44132de209 ",tempoelementid:"tempo-f8eb86ad-3295-5bb1-9f38-0a44132de209",children:[e.jsx(ne,{className:"tempo-b04feec9-f0aa-50b3-9a59-14918dbc8d07 ",tempoelementid:"tempo-b04feec9-f0aa-50b3-9a59-14918dbc8d07",children:e.jsx(fe,{className:"tempo-787dc135-947b-5dfb-b7b3-d66831f346ac ",tempoelementid:"tempo-787dc135-947b-5dfb-b7b3-d66831f346ac",children:N?"تعديل سجل الحضور":"تسجيل حضور جديد"})}),e.jsxs("div",{className:"space-y-4 py-4 tempo-e3d85e0f-cb40-5b14-8a41-3609f30e397a",tempoelementid:"tempo-e3d85e0f-cb40-5b14-8a41-3609f30e397a",children:[e.jsxs("div",{className:"space-y-2 tempo-416d58cd-5675-587a-8f18-54130899f954",tempoelementid:"tempo-416d58cd-5675-587a-8f18-54130899f954",children:[e.jsx(n,{className:"tempo-f28b40ea-ba42-58f2-ab54-15f4dbba9e5a ",tempoelementid:"tempo-f28b40ea-ba42-58f2-ab54-15f4dbba9e5a",children:"الموظف"}),e.jsxs(O,{value:m.employee_id,onValueChange:T,className:"tempo-9ab8d5f8-01d9-5c29-a3a0-985fb887782d ",tempoelementid:"tempo-9ab8d5f8-01d9-5c29-a3a0-985fb887782d",children:[e.jsx(I,{className:"tempo-e0b1c91b-870e-5440-87aa-7f044a3c8402 ",tempoelementid:"tempo-e0b1c91b-870e-5440-87aa-7f044a3c8402",children:e.jsx(R,{placeholder:"اختر موظف",className:"tempo-cfec25ce-a8bb-5189-be49-2c8c611307fc ",tempoelementid:"tempo-cfec25ce-a8bb-5189-be49-2c8c611307fc"})}),e.jsx(V,{className:"tempo-bf5a8646-babd-5b21-a593-e734d8035831 ",tempoelementid:"tempo-bf5a8646-babd-5b21-a593-e734d8035831",children:f.map(a=>e.jsx(l,{value:a.id,className:"tempo-fcf3e3fd-f49c-560a-adfc-25a5a1704cc1 ",tempoelementid:"tempo-fcf3e3fd-f49c-560a-adfc-25a5a1704cc1",children:a.name},a.id))})]})]},"305536664587227886407781285944999014044-24"),e.jsxs("div",{className:"space-y-2 tempo-65d1e76e-0ad3-5859-b8ac-1376d13fd3f3",tempoelementid:"tempo-65d1e76e-0ad3-5859-b8ac-1376d13fd3f3",children:[e.jsx(n,{className:"tempo-36b46323-a93a-5ea1-9ce4-2010183feda4 ",tempoelementid:"tempo-36b46323-a93a-5ea1-9ce4-2010183feda4",children:"التاريخ"}),e.jsx(C,{type:"date",name:"date",value:m.date,onChange:D,className:"tempo-ac1fc4f5-e958-514b-ae89-598d8f377478 ",tempoelementid:"tempo-ac1fc4f5-e958-514b-ae89-598d8f377478"})]},"305536664587227886407781285944999014044-31"),e.jsxs("div",{className:"grid grid-cols-2 gap-4 tempo-eb7418ea-a542-583d-8f95-240fb5a2f9da",tempoelementid:"tempo-eb7418ea-a542-583d-8f95-240fb5a2f9da",children:[e.jsxs("div",{className:"space-y-2 tempo-75a4cea0-77ee-5c71-abec-e75b5e568c96",tempoelementid:"tempo-75a4cea0-77ee-5c71-abec-e75b5e568c96",children:[e.jsx(n,{className:"tempo-3052f716-06e7-5945-bb40-75e74fdb02fc ",tempoelementid:"tempo-3052f716-06e7-5945-bb40-75e74fdb02fc",children:"وقت الحضور"}),e.jsx(C,{type:"time",name:"check_in",value:m.check_in,onChange:D,className:"tempo-3e9aa65d-c587-55a6-82da-2360f1524089 ",tempoelementid:"tempo-3e9aa65d-c587-55a6-82da-2360f1524089"})]},"305536664587227886407781285944999014044-35"),e.jsxs("div",{className:"space-y-2 tempo-9aa28f2e-5b70-5a53-9826-47e674c4ff4b",tempoelementid:"tempo-9aa28f2e-5b70-5a53-9826-47e674c4ff4b",children:[e.jsx(n,{className:"tempo-71c10e50-4cf3-505b-bc67-61775a1dbae7 ",tempoelementid:"tempo-71c10e50-4cf3-505b-bc67-61775a1dbae7",children:"وقت الانصراف"}),e.jsx(C,{type:"time",name:"check_out",value:m.check_out,onChange:D,className:"tempo-e144ee30-26bd-543b-a862-ca8cf3c46221 ",tempoelementid:"tempo-e144ee30-26bd-543b-a862-ca8cf3c46221"})]},"305536664587227886407781285944999014044-38")]},"305536664587227886407781285944999014044-34"),e.jsxs("div",{className:"space-y-2 tempo-85ef7c7d-7f37-515c-ba6a-fa2da2c99efa",tempoelementid:"tempo-85ef7c7d-7f37-515c-ba6a-fa2da2c99efa",children:[e.jsx(n,{className:"tempo-c92d4a31-34a0-5527-b373-5b9510d9a159 ",tempoelementid:"tempo-c92d4a31-34a0-5527-b373-5b9510d9a159",children:"الحالة"}),e.jsxs(O,{value:m.status,onValueChange:a=>F(a),className:"tempo-f0b4963f-c331-5ce9-947d-57433a9fee11 ",tempoelementid:"tempo-f0b4963f-c331-5ce9-947d-57433a9fee11",children:[e.jsx(I,{className:"tempo-1b0e6c02-7f84-50dd-a057-13fb2ff07a99 ",tempoelementid:"tempo-1b0e6c02-7f84-50dd-a057-13fb2ff07a99",children:e.jsx(R,{className:"tempo-a7023ff0-9dba-56c0-ab8a-1ac07578440b ",tempoelementid:"tempo-a7023ff0-9dba-56c0-ab8a-1ac07578440b"})}),e.jsxs(V,{className:"tempo-a50ba3ae-9c53-5f5a-9ca8-5ab2ff5b4942 ",tempoelementid:"tempo-a50ba3ae-9c53-5f5a-9ca8-5ab2ff5b4942",children:[e.jsx(l,{value:"present",className:"tempo-f06d1e4f-0c0f-52ce-8718-0c34f4e19d71 ",tempoelementid:"tempo-f06d1e4f-0c0f-52ce-8718-0c34f4e19d71",children:"حاضر"}),e.jsx(l,{value:"absent",className:"tempo-be18b004-363e-58a0-8e9a-b350fa596d14 ",tempoelementid:"tempo-be18b004-363e-58a0-8e9a-b350fa596d14",children:"غائب"}),e.jsx(l,{value:"leave",className:"tempo-0698016f-9150-53dd-8f93-09e19bc55e9c ",tempoelementid:"tempo-0698016f-9150-53dd-8f93-09e19bc55e9c",children:"إجازة"}),e.jsx(l,{value:"late",className:"tempo-2a09ddc3-6876-5b28-ab7a-b4b26194cc3e ",tempoelementid:"tempo-2a09ddc3-6876-5b28-ab7a-b4b26194cc3e",children:"متأخر"})]})]})]},"305536664587227886407781285944999014044-41"),e.jsxs("div",{className:"space-y-2 tempo-954482a4-8833-56db-99c4-93b430d95ee2",tempoelementid:"tempo-954482a4-8833-56db-99c4-93b430d95ee2",children:[e.jsx(n,{className:"tempo-74058854-dfe7-5a17-9389-eedc706f862a ",tempoelementid:"tempo-74058854-dfe7-5a17-9389-eedc706f862a",children:"ملاحظات"}),e.jsx(C,{name:"notes",value:m.notes,onChange:D,placeholder:"أي ملاحظات إضافية",className:"tempo-2444330a-2126-5ea5-9836-a8820fd5e33c ",tempoelementid:"tempo-2444330a-2126-5ea5-9836-a8820fd5e33c"})]},"305536664587227886407781285944999014044-51")]},"305536664587227886407781285944999014044-23"),e.jsxs(be,{className:"gap-2 tempo-91ccfe6e-2a4a-5b73-b8a2-e5461b665ba1",tempoelementid:"tempo-91ccfe6e-2a4a-5b73-b8a2-e5461b665ba1",children:[e.jsx(b,{variant:"outline",onClick:()=>i(!1),className:"tempo-dae75db4-537d-5cb2-b318-1bacccc096cc ",tempoelementid:"tempo-dae75db4-537d-5cb2-b318-1bacccc096cc",children:"إلغاء"}),e.jsx(b,{onClick:J,className:"tempo-d4961af3-6f8c-5875-a7aa-ea354c5c6e0d ",tempoelementid:"tempo-d4961af3-6f8c-5875-a7aa-ea354c5c6e0d",children:N?"تحديث":"تسجيل"})]})]})}),e.jsx(ie,{open:g,onOpenChange:A,className:"tempo-0a769c44-b623-5c86-ba48-9917bd564930 ",tempoelementid:"tempo-0a769c44-b623-5c86-ba48-9917bd564930",children:e.jsxs(re,{dir:"rtl",className:"tempo-632f4f99-ea62-5744-9736-51ead63f91ae ",tempoelementid:"tempo-632f4f99-ea62-5744-9736-51ead63f91ae",children:[e.jsxs(ue,{className:"tempo-170291cc-9685-58ad-9312-ce7e37cdb8d0 ",tempoelementid:"tempo-170291cc-9685-58ad-9312-ce7e37cdb8d0",children:[e.jsx(he,{className:"tempo-fe6c4dd3-7b79-537f-bd71-ea3f501ca77d ",tempoelementid:"tempo-fe6c4dd3-7b79-537f-bd71-ea3f501ca77d",children:"هل أنت متأكد من حذف هذا السجل؟"}),e.jsx(xe,{className:"tempo-01ee6b54-bc5c-58d7-be39-91e11b1262f5 ",tempoelementid:"tempo-01ee6b54-bc5c-58d7-be39-91e11b1262f5",children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف سجل الحضور بشكل دائم."})]}),e.jsxs(Ne,{className:"flex-row-reverse justify-start gap-2 tempo-d384d1ab-1784-53e4-9a55-8512737f66bf",tempoelementid:"tempo-d384d1ab-1784-53e4-9a55-8512737f66bf",children:[e.jsx(je,{className:"tempo-53176a78-b327-556c-adfb-cd48345c55c7 ",tempoelementid:"tempo-53176a78-b327-556c-adfb-cd48345c55c7",children:"إلغاء"}),e.jsx(ge,{onClick:L,className:"bg-destructive hover:bg-destructive/90 tempo-ebec714b-6da7-53b2-9b0c-5746738d91e9",tempoelementid:"tempo-ebec714b-6da7-53b2-9b0c-5746738d91e9",children:"حذف"})]})]})})]},"305536664587227886407781285944999014044-8")}function He(){const{employees:f}=me(),[_,w]=d.useState(""),[r,H]=d.useState(new Date),[u,x]=d.useState(new Date),[K,M]=d.useState(""),[i,N]=d.useState("annual"),[j,g]=d.useState([]);d.useEffect(()=>{const c=localStorage.getItem("absences");if(c)g(JSON.parse(c));else if(f.length>0){const a=[];f[0]&&a.push({id:"1",employeeId:f[0].id,employeeName:f[0].name,startDate:"2024-05-01",endDate:"2024-05-05",reason:"إجازة سنوية",type:"annual",status:"approved"}),f[1]&&a.push({id:"2",employeeId:f[1].id,employeeName:f[1].name,startDate:"2024-05-10",endDate:"2024-05-12",reason:"إجازة مرضية",type:"sick",status:"pending"}),g(a),localStorage.setItem("absences",JSON.stringify(a))}},[f]);const[A,h]=d.useState(!1),[p,m]=d.useState(null),[y,v]=d.useState(!1),[P,D]=d.useState(null),[F,T]=d.useState("pending"),J=c=>{c.preventDefault();const a=f.find(s=>s.id===_);if(!a||!r||!u)return;const t={id:Date.now().toString(),employeeId:_,employeeName:a.name,startDate:r.toISOString().split("T")[0],endDate:u.toISOString().split("T")[0],reason:K,type:i,status:"pending"},o=[...j,t];g(o),localStorage.setItem("absences",JSON.stringify(o)),w(""),H(new Date),x(new Date),M(""),N("annual")},L=()=>{if(!p)return;const c=j.map(a=>a.id===p.id?{...a,status:F}:a);g(c),localStorage.setItem("absences",JSON.stringify(c)),h(!1),m(null),T("pending")},q=()=>{if(!P)return;const c=j.filter(a=>a.id!==P);g(c),localStorage.setItem("absences",JSON.stringify(c)),v(!1),D(null)},z=[{accessorKey:"employeeName",header:"اسم الموظف"},{accessorKey:"startDate",header:"تاريخ البداية"},{accessorKey:"endDate",header:"تاريخ النهاية"},{accessorKey:"type",header:"نوع الإجازة",cell:({row:c})=>{const a=c.getValue("type");return e.jsx("span",{className:"tempo-c3fabeb6-f0c1-5ad0-aa60-133e9e4849f7 ",tempoelementid:"tempo-c3fabeb6-f0c1-5ad0-aa60-133e9e4849f7",children:a==="sick"?"مرضية":a==="annual"?"سنوية":a==="unpaid"?"غير مدفوعة":"أخرى"},"181800834438449483365420833000548088778-1")}},{accessorKey:"status",header:"الحالة",cell:({row:c})=>{const a=c.getValue("status");return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a==="approved"?"bg-green-100 text-green-800":a==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"} tempo-deff83a5-f4db-57a9-bcef-b1bc79912b06`,tempoelementid:"tempo-deff83a5-f4db-57a9-bcef-b1bc79912b06",children:a==="approved"?"موافق":a==="rejected"?"مرفوض":"قيد الانتظار"},"181800834438449483365420833000548088778-2")}},{id:"actions",header:"الإجراءات",cell:({row:c})=>{const a=c.original;return e.jsxs("div",{className:"flex items-center justify-end gap-2 tempo-69544099-cc89-5225-a5a3-f1b71c052c64",tempoelementid:"tempo-69544099-cc89-5225-a5a3-f1b71c052c64",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>{m(a),T(a.status),h(!0)},className:"tempo-f29bac41-bce2-57ba-a168-f26b53188962 ",tempoelementid:"tempo-f29bac41-bce2-57ba-a168-f26b53188962",children:[e.jsx(ye,{className:"ml-2 h-4 w-4 tempo-d36b0b9d-a71c-5c42-a0bb-c0214dc3eea9",tempoelementid:"tempo-d36b0b9d-a71c-5c42-a0bb-c0214dc3eea9"}),"تعديل"]}),e.jsxs(b,{variant:"outline",size:"sm",className:"text-destructive hover:bg-destructive/10 tempo-10199ab9-098f-5922-845f-984a9a44ec29",onClick:()=>{D(a.id),v(!0)},tempoelementid:"tempo-10199ab9-098f-5922-845f-984a9a44ec29",children:[e.jsx(ve,{className:"ml-2 h-4 w-4 tempo-d7213ca6-4b08-54d9-b9d1-98d84ef836d7",tempoelementid:"tempo-d7213ca6-4b08-54d9-b9d1-98d84ef836d7"}),"حذف"]})]},"181800834438449483365420833000548088778-3")}}];return e.jsxs("div",{className:"space-y-6 tempo-10f301d3-f8e8-5762-9c7f-3bf627cf22c0",dir:"rtl",tempoelementid:"tempo-10f301d3-f8e8-5762-9c7f-3bf627cf22c0",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-l from-primary to-primary/70 bg-clip-text text-transparent inline-block tempo-1a6d96bf-759d-561f-97bb-89dd4ace478c",tempoelementid:"tempo-1a6d96bf-759d-561f-97bb-89dd4ace478c",children:"إدارة الإجازات والغياب"},"181800834438449483365420833000548088778-9"),e.jsxs(ke,{defaultValue:"absences",className:"w-full tempo-93ce1488-ba0a-5e47-8f3d-71d3df8a0c76",tempoelementid:"tempo-93ce1488-ba0a-5e47-8f3d-71d3df8a0c76",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2 tempo-1a4fb572-bc75-5b57-a161-3d3f2cdda9cb",tempoelementid:"tempo-1a4fb572-bc75-5b57-a161-3d3f2cdda9cb",children:[e.jsx(Y,{value:"absences",className:"tempo-7f48d22f-fcbb-5223-9509-fe8aaee85b84 ",tempoelementid:"tempo-7f48d22f-fcbb-5223-9509-fe8aaee85b84",children:"الإجازات"}),e.jsx(Y,{value:"attendance",className:"tempo-b3f3b1ff-af94-5f6a-b425-420ab5c9e89c ",tempoelementid:"tempo-b3f3b1ff-af94-5f6a-b425-420ab5c9e89c",children:"سجل الحضور"})]}),e.jsxs(Z,{value:"absences",className:"space-y-6 mt-6 tempo-f2db8062-cdde-5f90-847e-1b2b02b07355",tempoelementid:"tempo-f2db8062-cdde-5f90-847e-1b2b02b07355",children:[e.jsxs(U,{className:"p-6 tempo-954555cd-7627-5687-b9fe-411a1bb0820c",tempoelementid:"tempo-954555cd-7627-5687-b9fe-411a1bb0820c",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 tempo-0b71ca8c-c6ea-5ff6-b07c-2e32cbd9ed98",tempoelementid:"tempo-0b71ca8c-c6ea-5ff6-b07c-2e32cbd9ed98",children:"طلب إجازة جديدة"},"181800834438449483365420833000548088778-16"),e.jsxs("form",{onSubmit:J,className:"space-y-4 tempo-ff642a77-c5ed-5ccc-bf31-74dc76d5763d",tempoelementid:"tempo-ff642a77-c5ed-5ccc-bf31-74dc76d5763d",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 tempo-d8846908-635f-5afa-b53d-5833dbf3084c",tempoelementid:"tempo-d8846908-635f-5afa-b53d-5833dbf3084c",children:[e.jsxs("div",{className:"space-y-2 tempo-f924f4dc-7654-5817-b17f-86677f0501d0",tempoelementid:"tempo-f924f4dc-7654-5817-b17f-86677f0501d0",children:[e.jsx(n,{className:"tempo-b527ef62-1d88-5636-8d4a-88b98f893188 ",tempoelementid:"tempo-b527ef62-1d88-5636-8d4a-88b98f893188",children:"الموظف"}),e.jsxs(O,{value:_,onValueChange:w,className:"tempo-49a193d9-1bd7-5dcc-babc-3d4450f1d73e ",tempoelementid:"tempo-49a193d9-1bd7-5dcc-babc-3d4450f1d73e",children:[e.jsx(I,{className:"tempo-ee6b5d84-6ede-5eb8-bff6-59bb449ef51b ",tempoelementid:"tempo-ee6b5d84-6ede-5eb8-bff6-59bb449ef51b",children:e.jsx(R,{placeholder:"اختر موظف",className:"tempo-4f4fe7fe-6e4f-5fa6-8385-af2eb15754ca ",tempoelementid:"tempo-4f4fe7fe-6e4f-5fa6-8385-af2eb15754ca"})}),e.jsx(V,{className:"tempo-87ad0509-fccc-58cd-a0f4-50ab6ad146f5 ",tempoelementid:"tempo-87ad0509-fccc-58cd-a0f4-50ab6ad146f5",children:f.map(c=>e.jsx(l,{value:c.id,className:"tempo-4ee21de0-f359-5b86-98a1-d305f7a0f094 ",tempoelementid:"tempo-4ee21de0-f359-5b86-98a1-d305f7a0f094",children:c.name},c.id))})]})]},"181800834438449483365420833000548088778-19"),e.jsxs("div",{className:"space-y-2 tempo-4eb77d77-a5ab-5047-9954-63a6e82ebce1",tempoelementid:"tempo-4eb77d77-a5ab-5047-9954-63a6e82ebce1",children:[e.jsx(n,{className:"tempo-7a63f57a-d7d1-5b36-af6d-f09735dc2a4f ",tempoelementid:"tempo-7a63f57a-d7d1-5b36-af6d-f09735dc2a4f",children:"نوع الإجازة"}),e.jsxs(O,{value:i,onValueChange:c=>N(c),className:"tempo-9079f833-6b82-5b50-be29-285bf6815625 ",tempoelementid:"tempo-9079f833-6b82-5b50-be29-285bf6815625",children:[e.jsx(I,{className:"tempo-6ee894c9-554f-5880-b3b7-99fac0f8c24b ",tempoelementid:"tempo-6ee894c9-554f-5880-b3b7-99fac0f8c24b",children:e.jsx(R,{className:"tempo-4f06b5f3-97c5-5b30-8146-f8f653e497be ",tempoelementid:"tempo-4f06b5f3-97c5-5b30-8146-f8f653e497be"})}),e.jsxs(V,{className:"tempo-79991137-72a3-5a70-ae4f-a7cc6d277864 ",tempoelementid:"tempo-79991137-72a3-5a70-ae4f-a7cc6d277864",children:[e.jsx(l,{value:"annual",className:"tempo-baadfd33-e135-596e-a4f9-27fa299c0ce8 ",tempoelementid:"tempo-baadfd33-e135-596e-a4f9-27fa299c0ce8",children:"إجازة سنوية"}),e.jsx(l,{value:"sick",className:"tempo-5ea7cdaa-14fb-5e1f-ab0a-b61974f2b44d ",tempoelementid:"tempo-5ea7cdaa-14fb-5e1f-ab0a-b61974f2b44d",children:"إجازة مرضية"}),e.jsx(l,{value:"unpaid",className:"tempo-786bfdd1-5ebc-5b2a-ac74-2daefac0b287 ",tempoelementid:"tempo-786bfdd1-5ebc-5b2a-ac74-2daefac0b287",children:"إجازة غير مدفوعة"}),e.jsx(l,{value:"other",className:"tempo-3bcd4c64-ec1d-5eb2-b1e2-7539c394044d ",tempoelementid:"tempo-3bcd4c64-ec1d-5eb2-b1e2-7539c394044d",children:"أخرى"})]})]})]},"181800834438449483365420833000548088778-26"),e.jsxs("div",{className:"space-y-2 tempo-08a47e9f-8c40-5b55-aa22-177aa78841bd",tempoelementid:"tempo-08a47e9f-8c40-5b55-aa22-177aa78841bd",children:[e.jsx(n,{className:"tempo-de9d996a-d439-5e19-b244-91c2e4bd17e2 ",tempoelementid:"tempo-de9d996a-d439-5e19-b244-91c2e4bd17e2",children:"تاريخ البداية"}),e.jsxs(ee,{className:"tempo-b458ff24-392d-51d1-ba1b-fa3632557e96 ",tempoelementid:"tempo-b458ff24-392d-51d1-ba1b-fa3632557e96",children:[e.jsx(ae,{asChild:!0,className:"tempo-dedc4779-9081-5887-b294-540413865117 ",tempoelementid:"tempo-dedc4779-9081-5887-b294-540413865117",children:e.jsxs(b,{variant:"outline",className:"w-full justify-start text-right tempo-8cb1b9be-1d83-581a-a35f-51c14c51c5e5",tempoelementid:"tempo-8cb1b9be-1d83-581a-a35f-51c14c51c5e5",children:[e.jsx(te,{className:"ml-2 h-4 w-4 tempo-3380eb8e-ad1b-5322-a42e-5b753f2f2b1f",tempoelementid:"tempo-3380eb8e-ad1b-5322-a42e-5b753f2f2b1f"}),r?$(r,"PPP",{locale:ce}):e.jsx("span",{className:"tempo-173d26f3-8eec-53cd-af1f-9af49feb9380 ",tempoelementid:"tempo-173d26f3-8eec-53cd-af1f-9af49feb9380",children:"اختر تاريخ"},"181800834438449483365420833000548088778-42")]})}),e.jsx(de,{className:"w-auto p-0 tempo-5428561c-b1ff-5743-a5c2-d188cdd20737",align:"start",tempoelementid:"tempo-5428561c-b1ff-5743-a5c2-d188cdd20737",children:e.jsx(se,{mode:"single",selected:r,onSelect:H,initialFocus:!0,className:"tempo-ee43b259-2d20-50f6-91f7-832cc7f68cb2 ",tempoelementid:"tempo-ee43b259-2d20-50f6-91f7-832cc7f68cb2"})})]})]},"181800834438449483365420833000548088778-36"),e.jsxs("div",{className:"space-y-2 tempo-ddc640b7-4f59-5ac1-823c-eae2506f75b0",tempoelementid:"tempo-ddc640b7-4f59-5ac1-823c-eae2506f75b0",children:[e.jsx(n,{className:"tempo-3443f4d0-9508-5b98-8e70-e9f4f4bd312d ",tempoelementid:"tempo-3443f4d0-9508-5b98-8e70-e9f4f4bd312d",children:"تاريخ النهاية"}),e.jsxs(ee,{className:"tempo-eeadaec9-d460-5417-a7d9-1cf1bd29af69 ",tempoelementid:"tempo-eeadaec9-d460-5417-a7d9-1cf1bd29af69",children:[e.jsx(ae,{asChild:!0,className:"tempo-054dd6ab-4bbf-5dd8-a64e-ea0a27bef924 ",tempoelementid:"tempo-054dd6ab-4bbf-5dd8-a64e-ea0a27bef924",children:e.jsxs(b,{variant:"outline",className:"w-full justify-start text-right tempo-439760ea-fd07-5a3f-8a6c-2e20941766ef",tempoelementid:"tempo-439760ea-fd07-5a3f-8a6c-2e20941766ef",children:[e.jsx(te,{className:"ml-2 h-4 w-4 tempo-89d50e44-db15-5116-9146-96c3fb908992",tempoelementid:"tempo-89d50e44-db15-5116-9146-96c3fb908992"}),u?$(u,"PPP",{locale:ce}):e.jsx("span",{className:"tempo-1b2c6107-6776-5888-a57c-b075ee0bab04 ",tempoelementid:"tempo-1b2c6107-6776-5888-a57c-b075ee0bab04",children:"اختر تاريخ"},"181800834438449483365420833000548088778-51")]})}),e.jsx(de,{className:"w-auto p-0 tempo-3b21f4ea-98be-54e0-99e7-41ba89b0217f",align:"start",tempoelementid:"tempo-3b21f4ea-98be-54e0-99e7-41ba89b0217f",children:e.jsx(se,{mode:"single",selected:u,onSelect:x,initialFocus:!0,className:"tempo-516f9e8f-318a-5bba-a1b8-580998c24c45 ",tempoelementid:"tempo-516f9e8f-318a-5bba-a1b8-580998c24c45"})})]})]},"181800834438449483365420833000548088778-45"),e.jsxs("div",{className:"space-y-2 md:col-span-2 tempo-a9666e60-5dd0-5567-8544-e0b13b4f6508",tempoelementid:"tempo-a9666e60-5dd0-5567-8544-e0b13b4f6508",children:[e.jsx(n,{className:"tempo-e73919db-972f-5703-aab2-9f08bda15e77 ",tempoelementid:"tempo-e73919db-972f-5703-aab2-9f08bda15e77",children:"سبب الإجازة"}),e.jsx(C,{value:K,onChange:c=>M(c.target.value),className:"text-right tempo-0eac9e6a-0fa0-566c-b61f-b4ac14450cd0",tempoelementid:"tempo-0eac9e6a-0fa0-566c-b61f-b4ac14450cd0"})]},"181800834438449483365420833000548088778-54")]},"181800834438449483365420833000548088778-18"),e.jsx("div",{className:"flex justify-end tempo-dfe26202-f102-5f83-9f5b-d0ac37e75a02",tempoelementid:"tempo-dfe26202-f102-5f83-9f5b-d0ac37e75a02",children:e.jsxs(b,{type:"submit",className:"tempo-59c1e3f2-00b8-5696-a31b-b42a800da0fd ",tempoelementid:"tempo-59c1e3f2-00b8-5696-a31b-b42a800da0fd",children:[e.jsx(Ce,{className:"ml-2 h-4 w-4 tempo-0e0e6bcf-913a-513e-ac28-089cb9824b7d",tempoelementid:"tempo-0e0e6bcf-913a-513e-ac28-089cb9824b7d"}),"تقديم طلب الإجازة"]})},"181800834438449483365420833000548088778-57")]},"181800834438449483365420833000548088778-17")]}),e.jsxs(U,{className:"p-6 tempo-d73b26d0-46be-5085-89a9-4f415d6c0f7c",tempoelementid:"tempo-d73b26d0-46be-5085-89a9-4f415d6c0f7c",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4 tempo-e1cb5a8c-387c-5f46-8ff3-a904f2687d5a",tempoelementid:"tempo-e1cb5a8c-387c-5f46-8ff3-a904f2687d5a",children:"طلبات الإجازات"},"181800834438449483365420833000548088778-61"),e.jsx(pe,{columns:z,data:j,searchKey:"employeeName",className:"tempo-8d0db204-8c82-5394-bef5-edfd99073030 ",tempoelementid:"tempo-8d0db204-8c82-5394-bef5-edfd99073030"})]})]}),e.jsx(Z,{value:"attendance",className:"space-y-6 mt-6 tempo-6e6d8ff5-63a0-5f7b-9acd-a674818dd45f",tempoelementid:"tempo-6e6d8ff5-63a0-5f7b-9acd-a674818dd45f",children:e.jsx(we,{className:"tempo-ce44610b-bef1-5f08-8397-a608c72fb328 ",tempoelementid:"tempo-ce44610b-bef1-5f08-8397-a608c72fb328"})})]}),e.jsx(oe,{open:A,onOpenChange:h,className:"tempo-98b704c5-c9ac-5237-88e9-2384c2072d7c ",tempoelementid:"tempo-98b704c5-c9ac-5237-88e9-2384c2072d7c",children:e.jsxs(le,{dir:"rtl",className:"tempo-3f610df5-f001-5f3f-a5d7-eee3fa3ca90a ",tempoelementid:"tempo-3f610df5-f001-5f3f-a5d7-eee3fa3ca90a",children:[e.jsx(ne,{className:"tempo-761322a8-446a-5edc-8770-e43b9ac3ec34 ",tempoelementid:"tempo-761322a8-446a-5edc-8770-e43b9ac3ec34",children:e.jsx(fe,{className:"tempo-d4a42338-9bba-5d2c-90d3-0e8a6f388b25 ",tempoelementid:"tempo-d4a42338-9bba-5d2c-90d3-0e8a6f388b25",children:"تحديث حالة الإجازة"})}),e.jsxs("div",{className:"space-y-4 py-4 tempo-f6b2f54d-ca19-511d-a229-6d0d1c0c8eca",tempoelementid:"tempo-f6b2f54d-ca19-511d-a229-6d0d1c0c8eca",children:[p&&e.jsxs("div",{className:"mb-4 tempo-005fd5df-203f-5f05-bb92-0e6d96bced06",tempoelementid:"tempo-005fd5df-203f-5f05-bb92-0e6d96bced06",children:[e.jsxs("p",{className:"font-medium tempo-0134eec7-9230-5f10-a1a3-ff9511a1f2bc",tempoelementid:"tempo-0134eec7-9230-5f10-a1a3-ff9511a1f2bc",children:["الموظف: ",p.employeeName]},"181800834438449483365420833000548088778-71"),e.jsxs("p",{className:"text-sm text-muted-foreground tempo-680cab4d-862a-533f-aac6-4c88d0b543ad",tempoelementid:"tempo-680cab4d-862a-533f-aac6-4c88d0b543ad",children:["من ",p.startDate," إلى ",p.endDate]},"181800834438449483365420833000548088778-72"),e.jsxs("p",{className:"text-sm text-muted-foreground tempo-e3b8487d-fd45-5cd5-bafc-e1d569011e52",tempoelementid:"tempo-e3b8487d-fd45-5cd5-bafc-e1d569011e52",children:["السبب: ",p.reason]},"181800834438449483365420833000548088778-73")]},"181800834438449483365420833000548088778-70"),e.jsxs("div",{className:"space-y-2 tempo-8a3d0b59-98e5-5a4a-b0e8-320275eab806",tempoelementid:"tempo-8a3d0b59-98e5-5a4a-b0e8-320275eab806",children:[e.jsx(n,{className:"tempo-e733507f-eb04-50d3-a0bf-e25e51a2252d ",tempoelementid:"tempo-e733507f-eb04-50d3-a0bf-e25e51a2252d",children:"الحالة"}),e.jsxs(O,{value:F,onValueChange:c=>T(c),className:"tempo-ce0b237c-ea55-52ec-ae5b-86870cdb9648 ",tempoelementid:"tempo-ce0b237c-ea55-52ec-ae5b-86870cdb9648",children:[e.jsx(I,{className:"tempo-e751c66d-acec-521a-b7b9-b79eb3c35b24 ",tempoelementid:"tempo-e751c66d-acec-521a-b7b9-b79eb3c35b24",children:e.jsx(R,{className:"tempo-3f9a0286-b66b-554d-9a97-62cbad7111a8 ",tempoelementid:"tempo-3f9a0286-b66b-554d-9a97-62cbad7111a8"})}),e.jsxs(V,{className:"tempo-25ba069e-33c8-583e-9465-0d6318d6958c ",tempoelementid:"tempo-25ba069e-33c8-583e-9465-0d6318d6958c",children:[e.jsx(l,{value:"pending",className:"tempo-85923818-acbd-50f9-8ca6-1ab7d2a62c27 ",tempoelementid:"tempo-85923818-acbd-50f9-8ca6-1ab7d2a62c27",children:"قيد الانتظار"}),e.jsx(l,{value:"approved",className:"tempo-25f9b8a8-dfce-57d1-a701-323ba1461f41 ",tempoelementid:"tempo-25f9b8a8-dfce-57d1-a701-323ba1461f41",children:"موافق"}),e.jsx(l,{value:"rejected",className:"tempo-73fcffff-b0c2-5d89-9474-8e284db0a863 ",tempoelementid:"tempo-73fcffff-b0c2-5d89-9474-8e284db0a863",children:"مرفوض"})]})]})]},"181800834438449483365420833000548088778-74")]},"181800834438449483365420833000548088778-69"),e.jsxs(be,{className:"gap-2 tempo-abff9caa-058f-544a-8e70-ba4caae864ce",tempoelementid:"tempo-abff9caa-058f-544a-8e70-ba4caae864ce",children:[e.jsx(b,{variant:"outline",onClick:()=>h(!1),className:"tempo-2c7cc169-c08f-5376-a86e-c410579a7814 ",tempoelementid:"tempo-2c7cc169-c08f-5376-a86e-c410579a7814",children:"إلغاء"}),e.jsx(b,{onClick:L,className:"tempo-6c41e23a-5476-5ede-8011-516c86852e56 ",tempoelementid:"tempo-6c41e23a-5476-5ede-8011-516c86852e56",children:"تحديث"})]})]})}),e.jsx(ie,{open:y,onOpenChange:v,className:"tempo-10e508a5-a436-5ffc-b751-ba643bbecaf7 ",tempoelementid:"tempo-10e508a5-a436-5ffc-b751-ba643bbecaf7",children:e.jsxs(re,{dir:"rtl",className:"tempo-e526fc43-a53e-5182-9f30-40378aa02b7c ",tempoelementid:"tempo-e526fc43-a53e-5182-9f30-40378aa02b7c",children:[e.jsxs(ue,{className:"tempo-67a01e54-a635-547b-85c0-3421551f9663 ",tempoelementid:"tempo-67a01e54-a635-547b-85c0-3421551f9663",children:[e.jsx(he,{className:"tempo-c63ae406-3f03-5129-908b-3a870ce638ee ",tempoelementid:"tempo-c63ae406-3f03-5129-908b-3a870ce638ee",children:"هل أنت متأكد من حذف هذه الإجازة؟"}),e.jsx(xe,{className:"tempo-81d0bcb7-5779-5c0f-94cf-811da72b3ebe ",tempoelementid:"tempo-81d0bcb7-5779-5c0f-94cf-811da72b3ebe",children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف بيانات الإجازة بشكل دائم."})]}),e.jsxs(Ne,{className:"flex-row-reverse justify-start gap-2 tempo-c19eaf3a-12e3-5f36-afeb-9b935eaecf56",tempoelementid:"tempo-c19eaf3a-12e3-5f36-afeb-9b935eaecf56",children:[e.jsx(je,{className:"tempo-5410f21c-46d7-5b8d-bb5e-2f1f0193896f ",tempoelementid:"tempo-5410f21c-46d7-5b8d-bb5e-2f1f0193896f",children:"إلغاء"}),e.jsx(ge,{onClick:q,className:"bg-destructive hover:bg-destructive/90 tempo-3894e862-1c34-5426-9568-6b85b7822baa",tempoelementid:"tempo-3894e862-1c34-5426-9568-6b85b7822baa",children:"حذف"})]})]})})]},"181800834438449483365420833000548088778-8")}export{He as default};
