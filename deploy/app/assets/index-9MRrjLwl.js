import{r,j as e,D as ce,g as se,h as oe,i as me,k as ne,B as j,a1 as le,a as ie,l as be,e as N,w as pe,H as fe,$ as re,C as he,L as m,S as W,n as L,p as O,q as V,v as k,I as l,a2 as ue,a3 as xe}from"./index-DCzl8a2M.js";import{P as Y}from"./printer-a4mjKhw8.js";import{S as ye}from"./save-CuLUMJM-.js";function ve({open:S,onOpenChange:F,employeeData:c}){const D=r.useRef(null),w=()=>{var v;const i=(v=D.current)==null?void 0:v.innerHTML;if(i){const p=window.open("","_blank");p&&(p.document.open(),p.document.write(`
          <html dir="rtl">
            <head>
              <title>قسيمة راتب - ${c.name}</title>
              <style>
                body {
                  font-family: Arial, sans-serif;
                  padding: 20px;
                  direction: rtl;
                  max-width: 800px;
                  margin: 0 auto;
                }
                .payslip {
                  border: 1px solid #ccc;
                  padding: 20px;
                  width: 100%;
                  box-sizing: border-box;
                  margin: 0 auto;
                }
                .header {
                  text-align: center;
                  margin-bottom: 20px;
                  border-bottom: 2px solid #333;
                  padding-bottom: 10px;
                }
                .company-name {
                  font-size: 24px;
                  font-weight: bold;
                  margin-bottom: 5px;
                }
                .payslip-title {
                  font-size: 18px;
                  margin-bottom: 5px;
                }
                .employee-info {
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 20px;
                }
                .info-group {
                  width: 48%;
                }
                .info-row {
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                  padding: 5px 0;
                  border-bottom: 1px dashed #eee;
                }
                .info-label {
                  font-weight: bold;
                }
                .salary-details {
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 20px;
                }
                .details-column {
                  width: 48%;
                }
                .details-title {
                  font-weight: bold;
                  margin-bottom: 10px;
                  padding-bottom: 5px;
                  border-bottom: 1px solid #333;
                }
                .details-row {
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                  padding: 5px 0;
                  border-bottom: 1px dashed #eee;
                }
                .total-row {
                  display: flex;
                  justify-content: space-between;
                  margin-top: 10px;
                  padding-top: 10px;
                  border-top: 1px solid #333;
                  font-weight: bold;
                }
                .net-salary {
                  text-align: center;
                  margin-top: 20px;
                  padding: 10px;
                  background-color: #f9f9f9;
                  border: 1px solid #ddd;
                  border-radius: 5px;
                }
                .net-salary-label {
                  font-weight: bold;
                  margin-bottom: 5px;
                }
                .net-salary-value {
                  font-size: 24px;
                  font-weight: bold;
                  color: #0891b2;
                }
                .signature-section {
                  display: flex;
                  justify-content: space-between;
                  margin-top: 40px;
                }
                .signature-box {
                  width: 40%;
                }
                .signature-line {
                  border-top: 1px solid #333;
                  margin-top: 40px;
                  padding-top: 5px;
                  text-align: center;
                }
                @media print {
                  body {
                    padding: 0;
                    margin: 0;
                  }
                  .payslip {
                    border: none;
                    padding: 0;
                  }
                  .no-print {
                    display: none;
                  }
                }
              </style>
            </head>
            <body>
              ${i}
              <div class="no-print" style="text-align: center; margin-top: 20px;">
                <button onclick="window.print()" style="padding: 10px 20px; background: #0891b2; color: white; border: none; border-radius: 4px; cursor: pointer;">
                  طباعة
                </button>
              </div>
            </body>
          </html>
        `),p.document.close())}},h=JSON.parse(localStorage.getItem("system_settings")||"{}"),R=h.companyName||"شركتك",I=h.companyAddress||"القاهرة، مصر",b=`${(i=>{const v=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],p=parseInt(i)-1;return v[p]||i})(c.month)} ${c.year}`;return e.jsx(ce,{open:S,onOpenChange:F,className:"tempo-516db100-9ca7-5bd3-89f2-b3ec1e004d33 ",tempoelementid:"tempo-516db100-9ca7-5bd3-89f2-b3ec1e004d33",children:e.jsxs(se,{className:"max-w-3xl overflow-y-auto max-h-[90vh] tempo-e4fc79a0-b31f-5515-92ff-21da7a89186e",dir:"rtl",tempoelementid:"tempo-e4fc79a0-b31f-5515-92ff-21da7a89186e",children:[e.jsx(oe,{className:"tempo-ec744ea8-d8bc-58d7-888e-b654a2faec19 ",tempoelementid:"tempo-ec744ea8-d8bc-58d7-888e-b654a2faec19",children:e.jsx(me,{className:"tempo-6e0a5a1c-4143-5164-91c4-6962044a2137 ",tempoelementid:"tempo-6e0a5a1c-4143-5164-91c4-6962044a2137",children:"قسيمة راتب"})}),e.jsxs("div",{ref:D,className:"payslip bg-white p-6 border rounded-md tempo-b3d9ce4f-0f5f-5277-90b0-4261655d6c9a",tempoelementid:"tempo-b3d9ce4f-0f5f-5277-90b0-4261655d6c9a",children:[e.jsxs("div",{className:"header tempo-1eaf3b59-228b-5965-9107-9acd879f2931",tempoelementid:"tempo-1eaf3b59-228b-5965-9107-9acd879f2931",children:[e.jsx("div",{className:"company-name tempo-ead7a697-b1e4-5ed6-82ac-5b01361416ca",tempoelementid:"tempo-ead7a697-b1e4-5ed6-82ac-5b01361416ca",children:R},"53046472158084478180592641409678194588-7"),e.jsx("div",{className:"payslip-title tempo-a47817e8-e06d-5fd1-b6a8-95e4a34207db",tempoelementid:"tempo-a47817e8-e06d-5fd1-b6a8-95e4a34207db",children:"قسيمة راتب"},"53046472158084478180592641409678194588-8"),e.jsx("div",{className:"tempo-feabb1e6-d8f6-5528-a228-ea937023b9c5 ",tempoelementid:"tempo-feabb1e6-d8f6-5528-a228-ea937023b9c5",children:I},"53046472158084478180592641409678194588-9"),e.jsxs("div",{className:"tempo-244cd26e-8a0f-5133-9eba-20d2b743ac45 ",tempoelementid:"tempo-244cd26e-8a0f-5133-9eba-20d2b743ac45",children:["الفترة: ",b]},"53046472158084478180592641409678194588-10")]},"53046472158084478180592641409678194588-6"),e.jsxs("div",{className:"employee-info tempo-52cfbec0-4ed5-5640-8237-226f0ab62335",tempoelementid:"tempo-52cfbec0-4ed5-5640-8237-226f0ab62335",children:[e.jsxs("div",{className:"info-group tempo-f19326cd-9bf9-5bcf-a058-76cfb9790bcd",tempoelementid:"tempo-f19326cd-9bf9-5bcf-a058-76cfb9790bcd",children:[e.jsxs("div",{className:"info-row tempo-0a01874a-c8ee-5b07-a6cd-83f3c6432b2e",tempoelementid:"tempo-0a01874a-c8ee-5b07-a6cd-83f3c6432b2e",children:[e.jsx("div",{className:"info-label tempo-66bd880d-228d-5a0a-943b-afc4e343e32d",tempoelementid:"tempo-66bd880d-228d-5a0a-943b-afc4e343e32d",children:"اسم الموظف:"},"53046472158084478180592641409678194588-14"),e.jsx("div",{className:"tempo-3162e33e-a622-5be0-9608-e338cdc28611 ",tempoelementid:"tempo-3162e33e-a622-5be0-9608-e338cdc28611",children:c.name},"53046472158084478180592641409678194588-15")]},"53046472158084478180592641409678194588-13"),e.jsxs("div",{className:"info-row tempo-42cc29ee-8f97-56c6-91af-2590f9cce35f",tempoelementid:"tempo-42cc29ee-8f97-56c6-91af-2590f9cce35f",children:[e.jsx("div",{className:"info-label tempo-e53d08d0-434f-53fa-94ae-b4f15aab5c6e",tempoelementid:"tempo-e53d08d0-434f-53fa-94ae-b4f15aab5c6e",children:"المنصب:"},"53046472158084478180592641409678194588-17"),e.jsx("div",{className:"tempo-d851d531-29f4-5d0a-9cdb-a5d845063dd6 ",tempoelementid:"tempo-d851d531-29f4-5d0a-9cdb-a5d845063dd6",children:c.position},"53046472158084478180592641409678194588-18")]},"53046472158084478180592641409678194588-16")]},"53046472158084478180592641409678194588-12"),e.jsxs("div",{className:"info-group tempo-dc944092-5825-53ae-bcfb-3a06fbd94342",tempoelementid:"tempo-dc944092-5825-53ae-bcfb-3a06fbd94342",children:[e.jsxs("div",{className:"info-row tempo-34a866e9-b2a4-57ca-bddc-821bfecfa944",tempoelementid:"tempo-34a866e9-b2a4-57ca-bddc-821bfecfa944",children:[e.jsx("div",{className:"info-label tempo-b7e5ffbe-17a5-5900-b8c9-aedd087dbca2",tempoelementid:"tempo-b7e5ffbe-17a5-5900-b8c9-aedd087dbca2",children:"القسم:"},"53046472158084478180592641409678194588-21"),e.jsx("div",{className:"tempo-1c0259a1-6cab-5007-9de6-bb845b698c80 ",tempoelementid:"tempo-1c0259a1-6cab-5007-9de6-bb845b698c80",children:c.department},"53046472158084478180592641409678194588-22")]},"53046472158084478180592641409678194588-20"),e.jsxs("div",{className:"info-row tempo-e33804c8-5eaa-5095-81ab-4369c4bfe619",tempoelementid:"tempo-e33804c8-5eaa-5095-81ab-4369c4bfe619",children:[e.jsx("div",{className:"info-label tempo-b5a0ab7e-22d5-58f1-81bf-6e77e2350579",tempoelementid:"tempo-b5a0ab7e-22d5-58f1-81bf-6e77e2350579",children:"تاريخ الراتب:"},"53046472158084478180592641409678194588-24"),e.jsx("div",{className:"tempo-56e3b753-616b-561f-b3cc-5facdd2f52e7 ",tempoelementid:"tempo-56e3b753-616b-561f-b3cc-5facdd2f52e7",children:b},"53046472158084478180592641409678194588-25")]},"53046472158084478180592641409678194588-23")]},"53046472158084478180592641409678194588-19")]},"53046472158084478180592641409678194588-11"),e.jsxs("div",{className:"salary-details tempo-ffca1137-39c7-5fce-b348-71daf35b108a",tempoelementid:"tempo-ffca1137-39c7-5fce-b348-71daf35b108a",children:[e.jsxs("div",{className:"details-column tempo-8ae7034a-466c-5eaa-825b-1197fe180e03",tempoelementid:"tempo-8ae7034a-466c-5eaa-825b-1197fe180e03",children:[e.jsx("div",{className:"details-title tempo-38070be8-199e-5460-bada-ed318173cb15",tempoelementid:"tempo-38070be8-199e-5460-bada-ed318173cb15",children:"الإضافات"},"53046472158084478180592641409678194588-28"),e.jsxs("div",{className:"details-row tempo-b0c0ae07-8071-55d2-b269-e091fba62723",tempoelementid:"tempo-b0c0ae07-8071-55d2-b269-e091fba62723",children:[e.jsx("div",{className:"tempo-c176efe2-06e4-5ca0-b65c-448313cd83c4 ",tempoelementid:"tempo-c176efe2-06e4-5ca0-b65c-448313cd83c4",children:"الراتب الأساسي"},"53046472158084478180592641409678194588-30"),e.jsxs("div",{className:"tempo-bb856bb6-dede-562c-9a29-290c5f928d7c ",tempoelementid:"tempo-bb856bb6-dede-562c-9a29-290c5f928d7c",children:[c.baseSalary.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-31")]},"53046472158084478180592641409678194588-29"),e.jsxs("div",{className:"details-row tempo-ddc4a9ea-5bd6-572d-bcae-24ecc44bb976",tempoelementid:"tempo-ddc4a9ea-5bd6-572d-bcae-24ecc44bb976",children:[e.jsx("div",{className:"tempo-d9537b50-55c5-511d-bbd7-d293e9fd54c0 ",tempoelementid:"tempo-d9537b50-55c5-511d-bbd7-d293e9fd54c0",children:"الحوافز"},"53046472158084478180592641409678194588-33"),e.jsxs("div",{className:"tempo-d19d4bc8-a51f-5259-947a-fd1157a7951d ",tempoelementid:"tempo-d19d4bc8-a51f-5259-947a-fd1157a7951d",children:[c.incentives.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-34")]},"53046472158084478180592641409678194588-32"),e.jsxs("div",{className:"details-row tempo-32a183bb-7c34-5945-88ab-47212f0042f1",tempoelementid:"tempo-32a183bb-7c34-5945-88ab-47212f0042f1",children:[e.jsx("div",{className:"tempo-3a7423a2-90b9-5353-bb9f-1611da9ba4af ",tempoelementid:"tempo-3a7423a2-90b9-5353-bb9f-1611da9ba4af",children:"المكافآت"},"53046472158084478180592641409678194588-36"),e.jsxs("div",{className:"tempo-62081039-bb65-561a-b078-ed1b534025df ",tempoelementid:"tempo-62081039-bb65-561a-b078-ed1b534025df",children:[c.bonuses.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-37")]},"53046472158084478180592641409678194588-35"),e.jsxs("div",{className:"details-row tempo-52da4fd2-2cba-50c3-b5bb-267159bb674e",tempoelementid:"tempo-52da4fd2-2cba-50c3-b5bb-267159bb674e",children:[e.jsx("div",{className:"tempo-9f8e2650-d8be-5a31-ac92-e37b94ac2005 ",tempoelementid:"tempo-9f8e2650-d8be-5a31-ac92-e37b94ac2005",children:"الأوفرتايم"},"53046472158084478180592641409678194588-39"),e.jsxs("div",{className:"tempo-fd4dffbb-1dcc-5319-abb2-6fb6b0c3aefa ",tempoelementid:"tempo-fd4dffbb-1dcc-5319-abb2-6fb6b0c3aefa",children:[c.overtime.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-40")]},"53046472158084478180592641409678194588-38"),e.jsxs("div",{className:"total-row tempo-566d2fb5-e105-5f74-ae3b-ab14132a27a9",tempoelementid:"tempo-566d2fb5-e105-5f74-ae3b-ab14132a27a9",children:[e.jsx("div",{className:"tempo-a8c79f23-d6df-50fb-abdd-1dc6860b55cb ",tempoelementid:"tempo-a8c79f23-d6df-50fb-abdd-1dc6860b55cb",children:"إجمالي الإضافات"},"53046472158084478180592641409678194588-42"),e.jsxs("div",{className:"tempo-7f11b248-5c86-5b96-b07b-d4e0f7abe261 ",tempoelementid:"tempo-7f11b248-5c86-5b96-b07b-d4e0f7abe261",children:[c.totalAdditions.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-43")]},"53046472158084478180592641409678194588-41")]},"53046472158084478180592641409678194588-27"),e.jsxs("div",{className:"details-column tempo-66347cf2-3148-5b29-bf23-1428e35562b0",tempoelementid:"tempo-66347cf2-3148-5b29-bf23-1428e35562b0",children:[e.jsx("div",{className:"details-title tempo-92ae135c-392a-50d8-b7ae-f04dbbbb6bf9",tempoelementid:"tempo-92ae135c-392a-50d8-b7ae-f04dbbbb6bf9",children:"الخصومات"},"53046472158084478180592641409678194588-45"),e.jsxs("div",{className:"details-row tempo-0655dbee-788b-5bfe-ba1c-0dc1fcf285aa",tempoelementid:"tempo-0655dbee-788b-5bfe-ba1c-0dc1fcf285aa",children:[e.jsx("div",{className:"tempo-511ff327-ea26-5592-9046-698ec0f8eec1 ",tempoelementid:"tempo-511ff327-ea26-5592-9046-698ec0f8eec1",children:"الخصومات"},"53046472158084478180592641409678194588-47"),e.jsxs("div",{className:"tempo-8236cb1d-3a1a-575a-bd62-d6a7adca4005 ",tempoelementid:"tempo-8236cb1d-3a1a-575a-bd62-d6a7adca4005",children:[c.deductions.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-48")]},"53046472158084478180592641409678194588-46"),e.jsxs("div",{className:"details-row tempo-c063c138-6555-575a-ac3a-c179b853e4f5",tempoelementid:"tempo-c063c138-6555-575a-ac3a-c179b853e4f5",children:[e.jsx("div",{className:"tempo-89a4508e-72d8-58bb-ace9-0bd393537115 ",tempoelementid:"tempo-89a4508e-72d8-58bb-ace9-0bd393537115",children:"السلف"},"53046472158084478180592641409678194588-50"),e.jsxs("div",{className:"tempo-14f9be18-9179-5cce-833e-3313d22a93f8 ",tempoelementid:"tempo-14f9be18-9179-5cce-833e-3313d22a93f8",children:[c.advances.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-51")]},"53046472158084478180592641409678194588-49"),e.jsxs("div",{className:"details-row tempo-307c7a3b-c40b-5a19-af89-c8a43b15a1fd",tempoelementid:"tempo-307c7a3b-c40b-5a19-af89-c8a43b15a1fd",children:[e.jsx("div",{className:"tempo-b14d0105-3910-51c6-b411-2022a990a17f ",tempoelementid:"tempo-b14d0105-3910-51c6-b411-2022a990a17f",children:"المشتريات"},"53046472158084478180592641409678194588-53"),e.jsxs("div",{className:"tempo-2235849d-aaf1-51fb-ae49-86e0468643a2 ",tempoelementid:"tempo-2235849d-aaf1-51fb-ae49-86e0468643a2",children:[c.purchases.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-54")]},"53046472158084478180592641409678194588-52"),e.jsxs("div",{className:"details-row tempo-f4bb1dbd-d292-5dd5-8477-5606ccddc64f",tempoelementid:"tempo-f4bb1dbd-d292-5dd5-8477-5606ccddc64f",children:[e.jsx("div",{className:"tempo-a11257e0-52c2-52eb-abbe-d0fc7afcdbde ",tempoelementid:"tempo-a11257e0-52c2-52eb-abbe-d0fc7afcdbde",children:"خصومات أخرى"},"53046472158084478180592641409678194588-56"),e.jsx("div",{className:"tempo-1a2dbc33-58f2-5fba-b44d-9ccc56d038e1 ",tempoelementid:"tempo-1a2dbc33-58f2-5fba-b44d-9ccc56d038e1",children:"0 ج.م"},"53046472158084478180592641409678194588-57")]},"53046472158084478180592641409678194588-55"),e.jsxs("div",{className:"total-row tempo-cf2cd657-cb93-547f-9b51-2cbb1d009597",tempoelementid:"tempo-cf2cd657-cb93-547f-9b51-2cbb1d009597",children:[e.jsx("div",{className:"tempo-b03a43e3-cfd5-521d-9849-77b5fa79bd3e ",tempoelementid:"tempo-b03a43e3-cfd5-521d-9849-77b5fa79bd3e",children:"إجمالي الخصومات"},"53046472158084478180592641409678194588-59"),e.jsxs("div",{className:"tempo-e7ac2e1f-d09f-5561-ad3f-4222ec836c37 ",tempoelementid:"tempo-e7ac2e1f-d09f-5561-ad3f-4222ec836c37",children:[c.totalDeductions.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-60")]},"53046472158084478180592641409678194588-58")]},"53046472158084478180592641409678194588-44")]},"53046472158084478180592641409678194588-26"),e.jsxs("div",{className:"net-salary tempo-0de821bc-aa56-529f-ba55-eb58480b1bc0",tempoelementid:"tempo-0de821bc-aa56-529f-ba55-eb58480b1bc0",children:[e.jsx("div",{className:"net-salary-label tempo-b3886b8a-077a-5722-904f-74540b6cf942",tempoelementid:"tempo-b3886b8a-077a-5722-904f-74540b6cf942",children:"صافي الراتب"},"53046472158084478180592641409678194588-62"),e.jsxs("div",{className:"net-salary-value tempo-91a19200-561f-5110-8b7f-42fe7636b1c9",tempoelementid:"tempo-91a19200-561f-5110-8b7f-42fe7636b1c9",children:[c.netSalary.toLocaleString()," ج.م"]},"53046472158084478180592641409678194588-63")]},"53046472158084478180592641409678194588-61"),e.jsxs("div",{className:"signature-section tempo-02cdf642-6308-5e1f-9992-50615f09357c",tempoelementid:"tempo-02cdf642-6308-5e1f-9992-50615f09357c",children:[e.jsx("div",{className:"signature-box tempo-c0a0eed8-6418-5f1a-b9f4-dae623cae91d",tempoelementid:"tempo-c0a0eed8-6418-5f1a-b9f4-dae623cae91d",children:e.jsx("div",{className:"signature-line tempo-d789d6b8-97a9-5d89-996b-cfddd73367ff",tempoelementid:"tempo-d789d6b8-97a9-5d89-996b-cfddd73367ff",children:"توقيع الموظف"},"53046472158084478180592641409678194588-66")},"53046472158084478180592641409678194588-65"),e.jsx("div",{className:"signature-box tempo-b88dd53a-62de-51cd-ad54-1caa1ad77188",tempoelementid:"tempo-b88dd53a-62de-51cd-ad54-1caa1ad77188",children:e.jsx("div",{className:"signature-line tempo-9d2854a4-06a4-5c7c-a42f-0c1f2f4e1e2d",tempoelementid:"tempo-9d2854a4-06a4-5c7c-a42f-0c1f2f4e1e2d",children:"توقيع المدير"},"53046472158084478180592641409678194588-68")},"53046472158084478180592641409678194588-67")]},"53046472158084478180592641409678194588-64")]},"53046472158084478180592641409678194588-5"),e.jsxs(ne,{className:"tempo-9bc32aaa-f3f9-5644-a6ec-08fbb5dfe41d ",tempoelementid:"tempo-9bc32aaa-f3f9-5644-a6ec-08fbb5dfe41d",children:[e.jsx(j,{variant:"outline",onClick:()=>F(!1),className:"tempo-ef16d52e-235a-5118-8ba2-11c4964c4008 ",tempoelementid:"tempo-ef16d52e-235a-5118-8ba2-11c4964c4008",children:"إغلاق"}),e.jsxs(j,{onClick:w,className:"tempo-1813af05-f03e-58ae-a443-ded5906b942a ",tempoelementid:"tempo-1813af05-f03e-58ae-a443-ded5906b942a",children:[e.jsx(Y,{className:"ml-2 h-4 w-4 tempo-f9162863-b764-5c32-b3d9-4375308936cf",tempoelementid:"tempo-f9162863-b764-5c32-b3d9-4375308936cf"}),"طباعة"]})]})]})})}function Se(){const S=le(),F=ie();r.useEffect(()=>{const a=new URLSearchParams(S.search).get("edit"),s=S.pathname.split("/"),n=s[s.length-1];a?_(a):s.includes("edit")&&n&&_(n)},[S]);const{employees:c}=be(),[D,w]=r.useState([]);r.useEffect(()=>{(async()=>{try{if(N){const{data:a,error:s}=await N.from("advances").select(`
              id,
              employee_id,
              amount,
              remaining_amount,
              request_date,
              expected_repayment_date,
              actual_repayment_date,
              status,
              employees(name)
            `).eq("status","pending");if(s){console.error("Error fetching advances:",s);return}if(a&&a.length>0){const n=a.map(o=>{var x;return{id:o.id,employeeId:o.employee_id,employeeName:((x=o.employees)==null?void 0:x.name)||"Unknown",amount:o.amount,requestDate:o.request_date,expectedRepaymentDate:o.expected_repayment_date,actualRepaymentDate:o.actual_repayment_date,status:o.status,remainingAmount:o.remaining_amount}});w(n)}else if(c.length>0){const n=[];c[0]&&(n.push({id:"1",employeeId:c[0].id,employeeName:c[0].name,amount:1e3,requestDate:"2024-05-01",expectedRepaymentDate:"2024-06-01",status:"pending",remainingAmount:1e3}),n.push({id:"3",employeeId:c[0].id,employeeName:c[0].name,amount:800,requestDate:"2024-05-10",expectedRepaymentDate:"2024-06-10",status:"pending",remainingAmount:800})),w(n)}}else if(c.length>0){const a=[];c[0]&&(a.push({id:"1",employeeId:c[0].id,employeeName:c[0].name,amount:1e3,requestDate:"2024-05-01",expectedRepaymentDate:"2024-06-01",status:"pending",remainingAmount:1e3}),a.push({id:"3",employeeId:c[0].id,employeeName:c[0].name,amount:800,requestDate:"2024-05-10",expectedRepaymentDate:"2024-06-10",status:"pending",remainingAmount:800})),w(a)}}catch(a){console.error("Error in fetchAdvances:",a)}})()},[c,N]);const[h,R]=r.useState(""),[I,_]=r.useState(null),b=c.find(t=>t.id===h);r.useEffect(()=>{if(I){const a=JSON.parse(localStorage.getItem("salaries")||"[]").find(s=>s.date&&new Date(s.date).getTime().toString()===I);a&&(R(a.employeeId),v(a.month),H(a.year.toString()),A({baseSalary:a.baseSalary.toString(),monthlyIncentives:a.monthlyIncentives.toString(),bonus:a.bonus.toString(),overtimeHours:a.overtimeHours.toString(),overtimeValue:a.overtimeValue.toString(),totalSalaryWithIncentives:(a.baseSalary+a.monthlyIncentives).toString(),totalSalary:(a.baseSalary+a.bonus+a.overtimeValue).toString(),purchases:a.purchases.toString(),advances:a.advances.toString(),absences:a.absences.toString(),hourlyDeductions:a.hourlyDeductions.toString(),penaltyDays:a.penaltyDays.toString(),penalties:a.penalties.toString(),netSalary:a.netSalary.toString(),dailyRate:"",dailyRateWithIncentives:"",overtimeRate:""}))}},[I]);const[i,v]=r.useState(pe(new Date,"MMMM",{locale:fe})),[p,H]=r.useState(new Date().getFullYear().toString()),[B,P]=r.useState(!1),[d,A]=r.useState({dailyRate:"",dailyRateWithIncentives:"",overtimeRate:"",overtimeHours:"",baseSalary:"",monthlyIncentives:"",totalSalaryWithIncentives:"",bonus:"",overtimeValue:"",totalSalary:"",purchases:"",advances:"",absences:"",hourlyDeductions:"",penaltyDays:"",penalties:"",netSalary:""}),M=t=>{var s;R(t);const a=c.find(n=>n.id===t);if(a){const n=parseInt(p),o=E.findIndex(u=>u.value===i)+1,x=new Date(n,o,0).getDate(),g=D.filter(u=>u.employeeId===t&&u.status==="pending").reduce((u,C)=>u+(C.remainingAmount||C.amount),0);A({...d,baseSalary:a.base_salary.toString(),dailyRate:(a.base_salary/x).toFixed(2),dailyRateWithIncentives:((a.base_salary+(a.monthly_incentives||0))/x).toFixed(2),overtimeRate:(a.base_salary/x/8).toFixed(2),monthlyIncentives:((s=a.monthly_incentives)==null?void 0:s.toString())||"0",totalSalaryWithIncentives:(a.base_salary+(a.monthly_incentives||0)).toString(),advances:g.toString()})}},f=t=>{const{name:a,value:s}=t.target;A({...d,[a]:s}),q({...d,[a]:s})};r.useEffect(()=>{h&&M(h)},[i,p]);const q=t=>{const a=parseFloat(t.baseSalary)||0,s=parseFloat(t.monthlyIncentives)||0,n=parseFloat(t.bonus)||0,o=parseFloat(t.overtimeHours)||0,x=parseFloat(t.overtimeRate)||0,y=parseFloat(t.purchases)||0,g=parseFloat(t.advances)||0,u=parseFloat(t.absences)||0,C=parseFloat(t.hourlyDeductions)||0,X=parseFloat(t.penaltyDays)||0,T=parseFloat(t.dailyRate)||0,Z=parseFloat(t.dailyRateWithIncentives)||0,$=o*x,ee=a+s,ae=s>0?u*Z:u*T,J=a+n+$,z=X*T,te=y+g+ae+C+z,de=J-te;A({...t,overtimeValue:$.toFixed(2),totalSalaryWithIncentives:ee.toFixed(2),totalSalary:J.toFixed(2),penalties:z.toFixed(2),netSalary:de.toFixed(2)})},U=()=>{q(d)},G=async()=>{var a;if(!h)return;const t={employeeId:h,employeeName:(b==null?void 0:b.name)||"",month:i,monthName:((a=E.find(s=>s.value===i))==null?void 0:a.label)||i,year:p,baseSalary:parseFloat(d.baseSalary)||0,monthlyIncentives:parseFloat(d.monthlyIncentives)||0,bonus:parseFloat(d.bonus)||0,overtimeHours:parseFloat(d.overtimeHours)||0,overtimeValue:parseFloat(d.overtimeValue)||0,purchases:parseFloat(d.purchases)||0,advances:parseFloat(d.advances)||0,absences:parseFloat(d.absences)||0,hourlyDeductions:parseFloat(d.hourlyDeductions)||0,penaltyDays:parseFloat(d.penaltyDays)||0,penalties:parseFloat(d.penalties)||0,netSalary:parseFloat(d.netSalary)||0,date:new Date().toISOString()};try{if(N){const{data:n,error:o}=await N.from("salary_components").insert([{employee_id:t.employeeId,month:t.month,year:parseInt(t.year),bonus:t.bonus,allowances:t.monthlyIncentives,deductions:t.hourlyDeductions+t.penalties,purchases:t.purchases,loans:t.advances,absences:t.absences,overtime_hours:t.overtimeHours,penalty_days:t.penaltyDays,net_salary:t.netSalary}]);if(o){console.error("Error saving salary:",o),alert(`حدث خطأ أثناء حفظ الراتب: ${o.message}`);return}}const s=JSON.parse(localStorage.getItem("salaries")||"[]");if(s.push(t),localStorage.setItem("salaries",JSON.stringify(s)),parseFloat(d.advances)>0&&h){const n=JSON.parse(localStorage.getItem("advances")||"[]");let o=parseFloat(d.advances);const x=n.map(y=>{if(y.employeeId===h&&y.status==="pending"&&o>0){const g=y.remainingAmount||y.amount;if(o>=g)return o-=g,{...y,status:"paid",remainingAmount:0,actualRepaymentDate:new Date().toISOString().split("T")[0]};{const u=g-o;return o=0,{...y,remainingAmount:u}}}return y});localStorage.setItem("advances",JSON.stringify(x)),N&&console.log("Would update advances in Supabase")}alert("تم حفظ الراتب بنجاح")}catch(s){console.error("Error in handleSave:",s),alert(`حدث خطأ غير متوقع: ${s instanceof Error?s.message:String(s)}`)}},E=[{value:"1",label:"يناير"},{value:"2",label:"فبراير"},{value:"3",label:"مارس"},{value:"4",label:"أبريل"},{value:"5",label:"مايو"},{value:"6",label:"يونيو"},{value:"7",label:"يوليو"},{value:"8",label:"أغسطس"},{value:"9",label:"سبتمبر"},{value:"10",label:"أكتوبر"},{value:"11",label:"نوفمبر"},{value:"12",label:"ديسمبر"}],K=["2022","2023","2024","2025","2026","2027","2028","2029","2030"],Q=b?{name:b.name,position:b.position,department:b.department,month:i,year:p,baseSalary:parseFloat(d.baseSalary)||0,incentives:parseFloat(d.monthlyIncentives)||0,bonuses:parseFloat(d.bonus)||0,overtime:parseFloat(d.overtimeValue)||0,totalAdditions:parseFloat(d.totalSalary)||0,deductions:parseFloat(d.hourlyDeductions)||0,advances:parseFloat(d.advances)||0,purchases:parseFloat(d.purchases)||0,totalDeductions:parseFloat(d.totalSalary)-parseFloat(d.netSalary)||0,netSalary:parseFloat(d.netSalary)||0}:{name:"",position:"",department:"",month:"",year:"",baseSalary:0,incentives:0,bonuses:0,overtime:0,totalAdditions:0,deductions:0,advances:0,purchases:0,totalDeductions:0,netSalary:0};return e.jsxs("div",{className:"space-y-6 tempo-12015b09-3be1-5d6e-ba19-75551d1efd5f",dir:"rtl",tempoelementid:"tempo-12015b09-3be1-5d6e-ba19-75551d1efd5f",children:[e.jsxs("div",{className:"flex justify-between items-center tempo-0ade0cfc-afb7-5ffb-a79d-71841c6bcb9c",tempoelementid:"tempo-0ade0cfc-afb7-5ffb-a79d-71841c6bcb9c",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-l from-primary to-primary/70 bg-clip-text text-transparent inline-block tempo-01c5d548-0b24-5a1d-af49-eaa6d79a04cd",tempoelementid:"tempo-01c5d548-0b24-5a1d-af49-eaa6d79a04cd",children:"حساب الرواتب"},"176193968698804444259887910397392845432-3"),e.jsxs("div",{className:"flex gap-2 tempo-8090f557-aaa8-5e50-bb50-098a89e12819",tempoelementid:"tempo-8090f557-aaa8-5e50-bb50-098a89e12819",children:[e.jsxs(j,{variant:"outline",onClick:()=>F("/salaries/history"),className:"tempo-fcb5cc51-7fb8-5637-9e1c-c41b4d504a6d ",tempoelementid:"tempo-fcb5cc51-7fb8-5637-9e1c-c41b4d504a6d",children:[e.jsx(re,{className:"ml-2 h-4 w-4 tempo-f22697f3-e59a-5f62-9dff-3e7a34caffe0",tempoelementid:"tempo-f22697f3-e59a-5f62-9dff-3e7a34caffe0"}),"سجل الرواتب"]}),e.jsxs(j,{variant:"outline",onClick:()=>P(!0),disabled:!b||!d.netSalary,className:"tempo-02fc670e-5b09-5a47-b430-8ee480e4c107 ",tempoelementid:"tempo-02fc670e-5b09-5a47-b430-8ee480e4c107",children:[e.jsx(Y,{className:"ml-2 h-4 w-4 tempo-7535ba33-b106-5362-a42e-e974d8819e32",tempoelementid:"tempo-7535ba33-b106-5362-a42e-e974d8819e32"}),"طباعة قسيمة الراتب"]})]},"176193968698804444259887910397392845432-4")]},"176193968698804444259887910397392845432-2"),e.jsx(he,{className:"p-6 tempo-48d94f90-fb8a-5ea7-870a-4b792626bda4",tempoelementid:"tempo-48d94f90-fb8a-5ea7-870a-4b792626bda4",children:e.jsxs("div",{className:"space-y-6 tempo-c1eafe01-69cb-5252-88f7-3677b7dcb67f",tempoelementid:"tempo-c1eafe01-69cb-5252-88f7-3677b7dcb67f",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end tempo-2affd7d9-46c3-59de-a27f-2c7c415484f9",tempoelementid:"tempo-2affd7d9-46c3-59de-a27f-2c7c415484f9",children:[e.jsxs("div",{className:"space-y-2 w-full md:w-1/3 tempo-ef07ee7e-76ef-5014-a8e0-38acd6e99f5d",tempoelementid:"tempo-ef07ee7e-76ef-5014-a8e0-38acd6e99f5d",children:[e.jsx(m,{className:"tempo-ba9caf89-3c89-51c2-8515-defe250b835c ",tempoelementid:"tempo-ba9caf89-3c89-51c2-8515-defe250b835c",children:"اختر الموظف"}),e.jsxs(W,{value:h,onValueChange:M,className:"tempo-63826b63-2d3f-500b-b6c4-51bc66b10233 ",tempoelementid:"tempo-63826b63-2d3f-500b-b6c4-51bc66b10233",children:[e.jsx(L,{className:"tempo-682852b4-e51b-5f62-93a4-865071c5c7b1 ",tempoelementid:"tempo-682852b4-e51b-5f62-93a4-865071c5c7b1",children:e.jsx(O,{placeholder:"اختر موظف",className:"tempo-00ae15f5-61ea-56db-9564-bef1f8585ca0 ",tempoelementid:"tempo-00ae15f5-61ea-56db-9564-bef1f8585ca0"})}),e.jsx(V,{className:"tempo-df4c8e2b-fd74-53a7-8803-800fc95b0825 ",tempoelementid:"tempo-df4c8e2b-fd74-53a7-8803-800fc95b0825",children:c.map(t=>e.jsxs(k,{value:t.id,className:"tempo-a477d2b6-e3f4-5b2c-9d06-2f5d5ad312a2 ",tempoelementid:"tempo-a477d2b6-e3f4-5b2c-9d06-2f5d5ad312a2",children:[t.name," - ",t.position]},t.id))})]})]},"176193968698804444259887910397392845432-12"),e.jsxs("div",{className:"space-y-2 w-full md:w-1/3 tempo-f50a7218-6c59-5b5f-9f08-39bbb14c1f17",tempoelementid:"tempo-f50a7218-6c59-5b5f-9f08-39bbb14c1f17",children:[e.jsx(m,{className:"tempo-07ad2867-3568-52db-9c58-99a842041108 ",tempoelementid:"tempo-07ad2867-3568-52db-9c58-99a842041108",children:"الشهر"}),e.jsxs(W,{value:i,onValueChange:v,className:"tempo-86bb446f-4e5e-5d7d-8b0f-dc39e8e69931 ",tempoelementid:"tempo-86bb446f-4e5e-5d7d-8b0f-dc39e8e69931",children:[e.jsx(L,{className:"tempo-84e8f3e7-683f-59cf-b693-23d639e7a253 ",tempoelementid:"tempo-84e8f3e7-683f-59cf-b693-23d639e7a253",children:e.jsx(O,{className:"tempo-e6442277-27d4-5274-8bb1-21d5d414246f ",tempoelementid:"tempo-e6442277-27d4-5274-8bb1-21d5d414246f"})}),e.jsx(V,{className:"tempo-913d7d23-d010-5f21-840d-fee04b6cdbed ",tempoelementid:"tempo-913d7d23-d010-5f21-840d-fee04b6cdbed",children:E.map(t=>e.jsx(k,{value:t.value,className:"tempo-709fe56b-c5a1-59ce-a08a-fa6c97c0c7fe ",tempoelementid:"tempo-709fe56b-c5a1-59ce-a08a-fa6c97c0c7fe",children:t.label},t.value))})]})]},"176193968698804444259887910397392845432-19"),e.jsxs("div",{className:"space-y-2 w-full md:w-1/3 tempo-94f84ef5-20c5-5e30-a4ed-33bf88193687",tempoelementid:"tempo-94f84ef5-20c5-5e30-a4ed-33bf88193687",children:[e.jsx(m,{className:"tempo-872573eb-c0d1-5c20-b934-e652b9eb2855 ",tempoelementid:"tempo-872573eb-c0d1-5c20-b934-e652b9eb2855",children:"السنة"}),e.jsxs(W,{value:p,onValueChange:H,className:"tempo-f858906e-749c-580f-ad16-fec0c0c0ad21 ",tempoelementid:"tempo-f858906e-749c-580f-ad16-fec0c0c0ad21",children:[e.jsx(L,{className:"tempo-b3bafc89-ee9a-5d0c-98bb-2fd78f30f53e ",tempoelementid:"tempo-b3bafc89-ee9a-5d0c-98bb-2fd78f30f53e",children:e.jsx(O,{className:"tempo-05ae2074-21f1-5d7e-8865-0aa3219f9adc ",tempoelementid:"tempo-05ae2074-21f1-5d7e-8865-0aa3219f9adc"})}),e.jsx(V,{className:"tempo-802aa664-0050-5a8f-9ab6-7133c3e984cf ",tempoelementid:"tempo-802aa664-0050-5a8f-9ab6-7133c3e984cf",children:K.map(t=>e.jsx(k,{value:t,className:"tempo-4b40fba3-e247-51fb-957d-34d1f0ca37a9 ",tempoelementid:"tempo-4b40fba3-e247-51fb-957d-34d1f0ca37a9",children:t},t))})]})]},"176193968698804444259887910397392845432-26")]},"176193968698804444259887910397392845432-11"),b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-0637ca76-0502-5e7e-8728-1f55b341b59f",tempoelementid:"tempo-0637ca76-0502-5e7e-8728-1f55b341b59f",children:[e.jsxs("div",{className:"space-y-2 tempo-999a0bd0-32a9-5d9b-812e-f0f143dca47e",tempoelementid:"tempo-999a0bd0-32a9-5d9b-812e-f0f143dca47e",children:[e.jsx(m,{className:"tempo-8bb495ff-fc9b-535a-b8ef-09dc45e03666 ",tempoelementid:"tempo-8bb495ff-fc9b-535a-b8ef-09dc45e03666",children:"قيمة الوحدة اليومية"}),e.jsx(l,{name:"dailyRate",value:d.dailyRate,onChange:f,className:"text-right tempo-74fbafd0-a934-5f5f-808b-8d6cdc2c68aa",type:"number",step:"0.01",tempoelementid:"tempo-74fbafd0-a934-5f5f-808b-8d6cdc2c68aa"})]},"176193968698804444259887910397392845432-34"),e.jsxs("div",{className:"space-y-2 tempo-7bdf4dfa-b4b9-5817-b293-2cd46e0021fa",tempoelementid:"tempo-7bdf4dfa-b4b9-5817-b293-2cd46e0021fa",children:[e.jsx(m,{className:"tempo-f0b53ae5-6442-5f4c-a539-70264694e28e ",tempoelementid:"tempo-f0b53ae5-6442-5f4c-a539-70264694e28e",children:"قيمة اليوم بالحوافز"}),e.jsx(l,{name:"dailyRateWithIncentives",value:d.dailyRateWithIncentives,onChange:f,className:"text-right tempo-0db50998-ad11-5cfa-b368-b260d3354ed6",type:"number",step:"0.01",tempoelementid:"tempo-0db50998-ad11-5cfa-b368-b260d3354ed6"})]},"176193968698804444259887910397392845432-37"),e.jsxs("div",{className:"space-y-2 tempo-ec7eef99-28f8-50cb-9d13-6aeedbf97834",tempoelementid:"tempo-ec7eef99-28f8-50cb-9d13-6aeedbf97834",children:[e.jsx(m,{className:"tempo-d8af6d3a-16d9-51c7-9b61-29d4fd96370a ",tempoelementid:"tempo-d8af6d3a-16d9-51c7-9b61-29d4fd96370a",children:"قيمة وحدة الأوفرتايم"}),e.jsx(l,{name:"overtimeRate",value:d.overtimeRate,onChange:f,className:"text-right tempo-00810442-d5b5-576b-9821-0506d8ade500",type:"number",step:"0.01",tempoelementid:"tempo-00810442-d5b5-576b-9821-0506d8ade500"})]},"176193968698804444259887910397392845432-40")]},"176193968698804444259887910397392845432-33"),e.jsx(ue,{className:"tempo-42dd91fa-1314-504b-93d1-323e5e3889dc ",tempoelementid:"tempo-42dd91fa-1314-504b-93d1-323e5e3889dc"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-92f366e1-2413-569c-876d-97ff3b22a161",tempoelementid:"tempo-92f366e1-2413-569c-876d-97ff3b22a161",children:[e.jsxs("div",{className:"space-y-2 tempo-47d937e4-a774-5e8f-a2af-f756d035fb2c",tempoelementid:"tempo-47d937e4-a774-5e8f-a2af-f756d035fb2c",children:[e.jsx(m,{className:"tempo-3ad6f9bd-d6c0-54ba-938b-6e29610f7707 ",tempoelementid:"tempo-3ad6f9bd-d6c0-54ba-938b-6e29610f7707",children:"الراتب الأساسي"}),e.jsx(l,{name:"baseSalary",value:d.baseSalary,onChange:f,className:"text-right tempo-977d4d9a-2cde-547b-a23b-577a0d3864af",type:"number",step:"0.01",tempoelementid:"tempo-977d4d9a-2cde-547b-a23b-577a0d3864af"})]},"176193968698804444259887910397392845432-45"),e.jsxs("div",{className:"space-y-2 tempo-89b59d28-14f4-5566-85d2-f134071083b1",tempoelementid:"tempo-89b59d28-14f4-5566-85d2-f134071083b1",children:[e.jsx(m,{className:"tempo-9e23ae5c-930c-5270-bf61-db2a5f9ced58 ",tempoelementid:"tempo-9e23ae5c-930c-5270-bf61-db2a5f9ced58",children:"الحوافز الشهرية"}),e.jsx(l,{name:"monthlyIncentives",value:d.monthlyIncentives,onChange:f,className:"text-right tempo-0d04f9d0-1e0c-5e49-87ab-bb75d5e38ea7",type:"number",step:"0.01",tempoelementid:"tempo-0d04f9d0-1e0c-5e49-87ab-bb75d5e38ea7"})]},"176193968698804444259887910397392845432-48"),e.jsxs("div",{className:"space-y-2 tempo-7bca4ce1-1c20-5539-b518-8a7b917c1d52",tempoelementid:"tempo-7bca4ce1-1c20-5539-b518-8a7b917c1d52",children:[e.jsx(m,{className:"tempo-1c6a92de-555c-5ade-828f-2c8eec60754b ",tempoelementid:"tempo-1c6a92de-555c-5ade-828f-2c8eec60754b",children:"إجمالي المرتب بالحافز"}),e.jsx(l,{name:"totalSalaryWithIncentives",value:d.totalSalaryWithIncentives,readOnly:!0,className:"text-right bg-muted tempo-b34a702d-83dd-5adf-8e80-3582c47f616f",tempoelementid:"tempo-b34a702d-83dd-5adf-8e80-3582c47f616f"})]},"176193968698804444259887910397392845432-51")]},"176193968698804444259887910397392845432-44"),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-4cb9ec77-a274-5f09-bbec-48a7c8f5177b",tempoelementid:"tempo-4cb9ec77-a274-5f09-bbec-48a7c8f5177b",children:[e.jsxs("div",{className:"space-y-2 tempo-e202f1a9-1725-5829-b7cd-4650c82218ae",tempoelementid:"tempo-e202f1a9-1725-5829-b7cd-4650c82218ae",children:[e.jsx(m,{className:"tempo-60ebe596-2376-5984-8b79-27d6e9a98795 ",tempoelementid:"tempo-60ebe596-2376-5984-8b79-27d6e9a98795",children:"المكافأة"}),e.jsx(l,{name:"bonus",value:d.bonus,onChange:f,className:"text-right tempo-3aca394f-bf56-5c90-be14-2f5a49da2671",type:"number",step:"0.01",tempoelementid:"tempo-3aca394f-bf56-5c90-be14-2f5a49da2671"})]},"176193968698804444259887910397392845432-55"),e.jsxs("div",{className:"space-y-2 tempo-d25192a8-dbc1-5570-8e4b-42d98181024e",tempoelementid:"tempo-d25192a8-dbc1-5570-8e4b-42d98181024e",children:[e.jsx(m,{className:"tempo-701b41e3-92e0-5f6d-9e0f-2bc64d90b47c ",tempoelementid:"tempo-701b41e3-92e0-5f6d-9e0f-2bc64d90b47c",children:"عدد ساعات الأوفرتايم"}),e.jsx(l,{name:"overtimeHours",value:d.overtimeHours,onChange:f,className:"text-right tempo-7bc182b3-b6e7-527e-ab03-851cda8d01a5",type:"number",step:"0.01",tempoelementid:"tempo-7bc182b3-b6e7-527e-ab03-851cda8d01a5"})]},"176193968698804444259887910397392845432-58"),e.jsxs("div",{className:"space-y-2 tempo-6951207a-dd33-5de0-af86-764aec181923",tempoelementid:"tempo-6951207a-dd33-5de0-af86-764aec181923",children:[e.jsx(m,{className:"tempo-c07bd0b6-01d4-5d7d-973e-921b7e23fae6 ",tempoelementid:"tempo-c07bd0b6-01d4-5d7d-973e-921b7e23fae6",children:"قيمة الأوفرتايم"}),e.jsx(l,{name:"overtimeValue",value:d.overtimeValue,readOnly:!0,className:"text-right bg-muted tempo-bd2ce2b8-595c-5d02-a25d-7614738bf11d",tempoelementid:"tempo-bd2ce2b8-595c-5d02-a25d-7614738bf11d"})]},"176193968698804444259887910397392845432-61")]},"176193968698804444259887910397392845432-54"),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-cb2fa290-fd0f-578b-90b0-9a4f5ba26eef",tempoelementid:"tempo-cb2fa290-fd0f-578b-90b0-9a4f5ba26eef",children:[e.jsxs("div",{className:"space-y-2 tempo-0410bcc8-64c4-5c8a-8cba-72f6f95949ef",tempoelementid:"tempo-0410bcc8-64c4-5c8a-8cba-72f6f95949ef",children:[e.jsx(m,{className:"tempo-53467d9b-ca91-537f-90a6-5a7a32d85c2f ",tempoelementid:"tempo-53467d9b-ca91-537f-90a6-5a7a32d85c2f",children:"إجمالي الراتب"}),e.jsx(l,{name:"totalSalary",value:d.totalSalary,readOnly:!0,className:"text-right bg-muted tempo-41543c50-b462-5dcb-8b5f-c4acb227e4ca",tempoelementid:"tempo-41543c50-b462-5dcb-8b5f-c4acb227e4ca"})]},"176193968698804444259887910397392845432-65"),e.jsxs("div",{className:"space-y-2 tempo-04805ef4-5bed-5a2a-9c4d-833a0e965d16",tempoelementid:"tempo-04805ef4-5bed-5a2a-9c4d-833a0e965d16",children:[e.jsx(m,{className:"tempo-74430510-40f9-5cd8-b38e-2f3fc3fb225a ",tempoelementid:"tempo-74430510-40f9-5cd8-b38e-2f3fc3fb225a",children:"المشتريات"}),e.jsx(l,{name:"purchases",value:d.purchases,onChange:f,className:"text-right tempo-24edd0b5-d0ab-5c55-96df-cf5a966da51d",type:"number",step:"0.01",tempoelementid:"tempo-24edd0b5-d0ab-5c55-96df-cf5a966da51d"})]},"176193968698804444259887910397392845432-68"),e.jsxs("div",{className:"space-y-2 tempo-2547fb11-9897-5177-9011-05e677d470cf",tempoelementid:"tempo-2547fb11-9897-5177-9011-05e677d470cf",children:[e.jsx(m,{className:"tempo-3c2d5b0c-0898-5909-b39b-8548ce49e605 ",tempoelementid:"tempo-3c2d5b0c-0898-5909-b39b-8548ce49e605",children:"السلف"}),e.jsx(l,{name:"advances",value:d.advances,onChange:f,className:"text-right tempo-09b8ebb3-995d-5160-bf77-526156cf3cc5",type:"number",step:"0.01",tempoelementid:"tempo-09b8ebb3-995d-5160-bf77-526156cf3cc5"})]},"176193968698804444259887910397392845432-71")]},"176193968698804444259887910397392845432-64"),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-88fea364-2606-565f-b9cc-d1a4dc06673e",tempoelementid:"tempo-88fea364-2606-565f-b9cc-d1a4dc06673e",children:[e.jsxs("div",{className:"space-y-2 tempo-3c01d278-8f47-59ae-8cae-43a2e9785c4e",tempoelementid:"tempo-3c01d278-8f47-59ae-8cae-43a2e9785c4e",children:[e.jsx(m,{className:"tempo-19744da6-02cc-57d4-9917-e87f6e06dd86 ",tempoelementid:"tempo-19744da6-02cc-57d4-9917-e87f6e06dd86",children:"الغيابات (أيام)"}),e.jsx(l,{name:"absences",value:d.absences,onChange:f,className:"text-right tempo-48a31103-2313-5607-9364-88fa80cd70db",type:"number",step:"0.01",tempoelementid:"tempo-48a31103-2313-5607-9364-88fa80cd70db"})]},"176193968698804444259887910397392845432-75"),e.jsxs("div",{className:"space-y-2 tempo-5e7af7d2-a036-52a8-a2a1-6136d7c1e3bd",tempoelementid:"tempo-5e7af7d2-a036-52a8-a2a1-6136d7c1e3bd",children:[e.jsx(m,{className:"tempo-2c5f259a-76c9-500b-85ef-3e8047e6f3dd ",tempoelementid:"tempo-2c5f259a-76c9-500b-85ef-3e8047e6f3dd",children:"الخصومات/الساعات"}),e.jsx(l,{name:"hourlyDeductions",value:d.hourlyDeductions,onChange:f,className:"text-right tempo-c87faccf-71bd-514e-8cab-bed5e3441433",type:"number",step:"0.01",tempoelementid:"tempo-c87faccf-71bd-514e-8cab-bed5e3441433"})]},"176193968698804444259887910397392845432-78"),e.jsxs("div",{className:"space-y-2 tempo-aaf47aa3-74ed-5730-9079-05395a650372",tempoelementid:"tempo-aaf47aa3-74ed-5730-9079-05395a650372",children:[e.jsx(m,{className:"tempo-46e3719f-485e-54b3-a464-f2840a7b38e1 ",tempoelementid:"tempo-46e3719f-485e-54b3-a464-f2840a7b38e1",children:"أيام الجزاءات"}),e.jsx(l,{name:"penaltyDays",value:d.penaltyDays,onChange:f,className:"text-right tempo-850eed97-e60c-58ba-a23f-52dc85fc7231",type:"number",step:"0.01",tempoelementid:"tempo-850eed97-e60c-58ba-a23f-52dc85fc7231"})]},"176193968698804444259887910397392845432-81")]},"176193968698804444259887910397392845432-74"),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 tempo-0a88f70c-b672-5175-9b46-0947b2207a2e",tempoelementid:"tempo-0a88f70c-b672-5175-9b46-0947b2207a2e",children:[e.jsxs("div",{className:"space-y-2 tempo-312070dd-f256-500f-9b9f-54085240dc86",tempoelementid:"tempo-312070dd-f256-500f-9b9f-54085240dc86",children:[e.jsx(m,{className:"tempo-5a7effe3-6ad9-53e6-bf12-f9678becbf64 ",tempoelementid:"tempo-5a7effe3-6ad9-53e6-bf12-f9678becbf64",children:"الجزاءات"}),e.jsx(l,{name:"penalties",value:d.penalties,readOnly:!0,className:"text-right bg-muted tempo-7afe4d41-15dc-5a8c-bf69-22328476db89",tempoelementid:"tempo-7afe4d41-15dc-5a8c-bf69-22328476db89"})]},"176193968698804444259887910397392845432-85"),e.jsxs("div",{className:"space-y-2 md:col-span-2 tempo-54f36a70-08d4-5478-9012-ca9c43adda0e",tempoelementid:"tempo-54f36a70-08d4-5478-9012-ca9c43adda0e",children:[e.jsx(m,{className:"tempo-2afe21b0-18b7-55d5-8486-f33fba19e375 ",tempoelementid:"tempo-2afe21b0-18b7-55d5-8486-f33fba19e375",children:"صافي الراتب"}),e.jsx(l,{name:"netSalary",value:d.netSalary,readOnly:!0,className:"text-right bg-muted font-bold text-lg tempo-9ae007e6-55b4-5197-a311-27ec6b7adc22",tempoelementid:"tempo-9ae007e6-55b4-5197-a311-27ec6b7adc22"})]},"176193968698804444259887910397392845432-88")]},"176193968698804444259887910397392845432-84"),e.jsxs("div",{className:"flex justify-end gap-4 tempo-8becbbb0-fe1c-5b5b-a581-45150f492738",tempoelementid:"tempo-8becbbb0-fe1c-5b5b-a581-45150f492738",children:[e.jsxs(j,{variant:"outline",onClick:U,className:"tempo-e2d5e6d7-60a5-554c-89ff-d643163bb6e7 ",tempoelementid:"tempo-e2d5e6d7-60a5-554c-89ff-d643163bb6e7",children:[e.jsx(xe,{className:"ml-2 h-4 w-4 tempo-2af6f52b-0b2f-5258-b895-a2f81da03acd",tempoelementid:"tempo-2af6f52b-0b2f-5258-b895-a2f81da03acd"}),"حساب الراتب"]}),e.jsxs(j,{onClick:G,className:"tempo-b9b4e05d-29e0-5691-a184-0cf09f10debb ",tempoelementid:"tempo-b9b4e05d-29e0-5691-a184-0cf09f10debb",children:[e.jsx(ye,{className:"ml-2 h-4 w-4 tempo-8b8357f0-dc18-5203-8fe9-4da21b8c939f",tempoelementid:"tempo-8b8357f0-dc18-5203-8fe9-4da21b8c939f"}),"حفظ"]})]},"176193968698804444259887910397392845432-91")]})]},"176193968698804444259887910397392845432-10")}),e.jsx(ve,{open:B,onOpenChange:P,employeeData:Q,className:"tempo-0de2bdd9-f41c-55c2-94fd-fbddfd305f20 ",tempoelementid:"tempo-0de2bdd9-f41c-55c2-94fd-fbddfd305f20"})]},"176193968698804444259887910397392845432-1")}export{Se as default};
