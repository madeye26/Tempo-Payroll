import{r as s,a as x,j as e,B as l,$ as g,C as u}from"./index-DCzl8a2M.js";import{D as j}from"./data-table-Dyk-SJUO.js";import{A as N,a as y,b as S,c as D,d as v,e as A,f as C,g as T}from"./alert-dialog-mt10r_ul.js";import{S as w}from"./square-pen-DyTrw8aF.js";import{T as K}from"./trash-2-BU5t-Hxw.js";function z(){const[d,o]=s.useState([]),[n,c]=s.useState(!1),[m,f]=s.useState(null),i=x();s.useEffect(()=>{const a=localStorage.getItem("salaries");a&&o(JSON.parse(a))},[]);const p=()=>{if(!m)return;const a=d.filter(t=>t.date&&new Date(t.date).getTime().toString()!==m);o(a),localStorage.setItem("salaries",JSON.stringify(a)),c(!1),f(null)},b=a=>{i(`/salaries?edit=${a}`)},h=[{accessorKey:"employeeName",header:"اسم الموظف"},{accessorKey:"month",header:"الشهر"},{accessorKey:"year",header:"السنة"},{accessorKey:"baseSalary",header:"الراتب الأساسي",cell:({row:a})=>`${a.getValue("baseSalary")} ج.م`},{accessorKey:"netSalary",header:"صافي الراتب",cell:({row:a})=>`${a.getValue("netSalary")} ج.م`},{id:"actions",header:"الإجراءات",cell:({row:a})=>{const t=a.original,r=t.date?new Date(t.date).getTime().toString():"";return e.jsxs("div",{className:"flex items-center justify-end gap-2 tempo-fe6059e0-18ca-5484-9a3d-a75e7404b340",tempoelementid:"tempo-fe6059e0-18ca-5484-9a3d-a75e7404b340",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>b(r),className:"tempo-faaf30e1-a304-5a83-8c86-419ac857f2c8 ",tempoelementid:"tempo-faaf30e1-a304-5a83-8c86-419ac857f2c8",children:[e.jsx(w,{className:"ml-2 h-4 w-4 tempo-130bd381-9b84-56c1-832b-385344f826f7",tempoelementid:"tempo-130bd381-9b84-56c1-832b-385344f826f7"}),"تعديل"]}),e.jsxs(l,{variant:"outline",size:"sm",className:"text-destructive hover:bg-destructive/10 tempo-e267a6f4-eb45-5dfd-af27-a009fea51849",onClick:()=>{f(r),c(!0)},tempoelementid:"tempo-e267a6f4-eb45-5dfd-af27-a009fea51849",children:[e.jsx(K,{className:"ml-2 h-4 w-4 tempo-873df978-7077-59f4-8862-d22051245ec0",tempoelementid:"tempo-873df978-7077-59f4-8862-d22051245ec0"}),"حذف"]})]},"215073660830639725245259588355899908143-1")}}];return e.jsxs("div",{className:"space-y-6 tempo-40fd4068-7af4-56a9-9a80-2144cf7b6575",dir:"rtl",tempoelementid:"tempo-40fd4068-7af4-56a9-9a80-2144cf7b6575",children:[e.jsxs("div",{className:"flex justify-between items-center tempo-86a8e340-c60a-5fe3-85c2-a86b8f71ce50",tempoelementid:"tempo-86a8e340-c60a-5fe3-85c2-a86b8f71ce50",children:[e.jsx("h1",{className:"text-2xl font-bold tempo-11ddbe96-ddf7-544e-9122-b53b8f7f385a",tempoelementid:"tempo-11ddbe96-ddf7-544e-9122-b53b8f7f385a",children:"سجل الرواتب"},"215073660830639725245259588355899908143-8"),e.jsxs(l,{variant:"outline",onClick:()=>i("/salaries"),className:"tempo-8d08354e-1f18-5eae-baea-9c5fb7cdb561 ",tempoelementid:"tempo-8d08354e-1f18-5eae-baea-9c5fb7cdb561",children:[e.jsx(g,{className:"ml-2 h-4 w-4 tempo-ee44590f-8eff-5c3c-acf2-0f4e8b3e44b2",tempoelementid:"tempo-ee44590f-8eff-5c3c-acf2-0f4e8b3e44b2"}),"حساب راتب جديد"]})]},"215073660830639725245259588355899908143-7"),e.jsx(u,{className:"p-6 tempo-00d98d46-928a-56c1-af0b-0d406f6dda43",tempoelementid:"tempo-00d98d46-928a-56c1-af0b-0d406f6dda43",children:d.length>0?e.jsx(j,{columns:h,data:d,searchKey:"employeeName",className:"tempo-f2c81d26-7600-5f06-b9c9-e3a908fe2d07 ",tempoelementid:"tempo-f2c81d26-7600-5f06-b9c9-e3a908fe2d07"}):e.jsx("div",{className:"text-center py-8 text-muted-foreground tempo-56b309e9-0b86-5e5c-bf14-95ed7f872d20",tempoelementid:"tempo-56b309e9-0b86-5e5c-bf14-95ed7f872d20",children:"لا توجد رواتب محفوظة بعد"},"215073660830639725245259588355899908143-13")}),e.jsx(N,{open:n,onOpenChange:c,className:"tempo-a6df947c-bafb-57b8-a99f-346d386d1825 ",tempoelementid:"tempo-a6df947c-bafb-57b8-a99f-346d386d1825",children:e.jsxs(y,{dir:"rtl",className:"tempo-fe83e055-d424-5c30-a973-d4554a19f5d6 ",tempoelementid:"tempo-fe83e055-d424-5c30-a973-d4554a19f5d6",children:[e.jsxs(S,{className:"tempo-c3b0e9d4-af20-54e3-bf36-c3852fef8942 ",tempoelementid:"tempo-c3b0e9d4-af20-54e3-bf36-c3852fef8942",children:[e.jsx(D,{className:"tempo-671cb08a-b763-5b07-842f-bc59a2507879 ",tempoelementid:"tempo-671cb08a-b763-5b07-842f-bc59a2507879",children:"هل أنت متأكد من حذف هذا الراتب؟"}),e.jsx(v,{className:"tempo-f3385803-108e-5194-ac5d-94e67ce822d5 ",tempoelementid:"tempo-f3385803-108e-5194-ac5d-94e67ce822d5",children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف بيانات الراتب بشكل دائم."})]}),e.jsxs(A,{className:"flex-row-reverse justify-start gap-2 tempo-3e0b85a4-ef88-5401-b5a4-3ee8255c414f",tempoelementid:"tempo-3e0b85a4-ef88-5401-b5a4-3ee8255c414f",children:[e.jsx(C,{className:"tempo-c594016a-ad21-530b-ab7c-bd3e251a5068 ",tempoelementid:"tempo-c594016a-ad21-530b-ab7c-bd3e251a5068",children:"إلغاء"}),e.jsx(T,{onClick:p,className:"bg-destructive hover:bg-destructive/90 tempo-975cdb4e-577e-540e-87ff-1dd476926ba3",tempoelementid:"tempo-975cdb4e-577e-540e-87ff-1dd476926ba3",children:"حذف"})]})]})})]},"215073660830639725245259588355899908143-6")}export{z as default};
